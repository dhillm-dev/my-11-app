import{a7 as H,ao as M,ae as Y,x as P,h as A,a1 as Z,_ as J,B as Q,b3 as W,a5 as X,b4 as m,g as x,b5 as ee,ac as V,b6 as re,b7 as ae,aC as se,b8 as ie,b9 as te,au as ue,ba as fe,bb as le,bc as oe,bd as ce,be as ne,bf as ve,bg as _e}from"./BxP-Bn-J.js";import{t as de,a as be,s as he}from"./B3R9TjWp.js";function ye(e,a){var r=void 0,s;H(()=>{r!==(r=a())&&(s&&(M(s),s=null),r&&(s=Y(()=>{P(()=>r(e))})))})}function O(e,a={},r,s){for(var i in r){var f=r[i];a[i]!==f&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,f,s))}}function ge(e,a,r,s){var i=e.__style;if(A||i!==a){var f=de(a,s);(!A||f!==e.getAttribute("style"))&&(f==null?e.removeAttribute("style"):e.style.cssText=f),e.__style=a}else s&&(Array.isArray(s)?(O(e,r?.[0],s[0]),O(e,r?.[1],s[1],"important")):O(e,r,s));return s}function w(e,a,r=!1){if(e.multiple){if(a==null)return;if(!Q(a))return W();for(var s of e.options)s.selected=a.includes(E(s));return}for(s of e.options){var i=E(s);if(X(i,a)){s.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function j(e){var a=new MutationObserver(()=>{w(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),J(()=>{a.disconnect()})}function ke(e,a,r=a){var s=!0;Z(e,"change",i=>{var f=i?"[selected]":":checked",_;if(e.multiple)_=[].map.call(e.querySelectorAll(f),E);else{var y=e.querySelector(f)??e.querySelector("option:not([disabled])");_=y&&E(y)}r(_)}),P(()=>{var i=a();if(w(e,i,s),s&&i===void 0){var f=e.querySelector(":checked");f!==null&&(i=E(f),r(i))}e.__value=i,s=!1}),j(e)}function E(e){return"__value"in e?e.__value:e.value}const T=Symbol("class"),k=Symbol("style"),D=Symbol("is custom element"),G=Symbol("is html");function Ae(e){if(A){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;L(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var i=e.checked;L(e,"checked",null),e.checked=i}}};e.__on_r=r,fe(r),le()}}function Ee(e,a){var r=q(e);r.value===(r.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function pe(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function L(e,a,r,s){var i=q(e);A&&(i[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||i[a]!==(i[a]=r)&&(a==="loading"&&(e[ne]=r),r==null?e.removeAttribute(a):typeof r!="string"&&K(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function Se(e,a,r,s,i=!1,f=!1){if(A&&i&&e.tagName==="INPUT"){var _=e,y=_.type==="checkbox"?"defaultChecked":"defaultValue";y in r||Ae(_)}var d=q(e),b=d[D],I=!d[G];let p=A&&b;p&&V(!1);var l=a||{},h=e.tagName==="OPTION";for(var S in a)S in r||(r[S]=null);r.class?r.class=be(r.class):(s||r[T])&&(r.class=null),r[k]&&(r.style??=null);var N=K(e);for(const t in r){let u=r[t];if(h&&t==="value"&&u==null){e.value=e.__value="",l[t]=u;continue}if(t==="class"){var v=e.namespaceURI==="http://www.w3.org/1999/xhtml";he(e,v,u,s,a?.[T],r[T]),l[t]=u,l[T]=r[T];continue}if(t==="style"){ge(e,u,a?.[k],r[k]),l[t]=u,l[k]=r[k];continue}var $=l[t];if(!(u===$&&!(u===void 0&&e.hasAttribute(t)))){l[t]=u;var R=t[0]+t[1];if(R!=="$$")if(R==="on"){const n={},g="$$"+t;let o=t.slice(2);var C=ve(o);if(re(o)&&(o=o.slice(0,-7),n.capture=!0),!C&&$){if(u!=null)continue;e.removeEventListener(o,l[g],n),l[g]=null}if(u!=null)if(C)e[`__${o}`]=u,se([o]);else{let z=function(F){l[t].call(this,F)};l[g]=ae(o,e,z,n)}else C&&(e[`__${o}`]=void 0)}else if(t==="style")L(e,t,u);else if(t==="autofocus")ie(e,!!u);else if(!b&&(t==="__value"||t==="value"&&u!=null))e.value=e.__value=u;else if(t==="selected"&&h)pe(e,u);else{var c=t;I||(c=te(c));var U=c==="defaultValue"||c==="defaultChecked";if(u==null&&!b&&!U)if(d[t]=null,c==="value"||c==="checked"){let n=e;const g=a===void 0;if(c==="value"){let o=n.defaultValue;n.removeAttribute(c),n.defaultValue=o,n.value=n.__value=g?o:null}else{let o=n.defaultChecked;n.removeAttribute(c),n.defaultChecked=o,n.checked=g?o:!1}}else e.removeAttribute(t);else U||N.includes(c)&&(b||typeof u!="string")?(e[c]=u,c in d&&(d[c]=ue)):typeof u!="function"&&L(e,c,u)}}}return p&&V(!0),l}function Ie(e,a,r=[],s=[],i,f=!1,_=!1){m(r,s,y=>{var d=void 0,b={},I=e.nodeName==="SELECT",p=!1;if(H(()=>{var h=a(...y.map(x)),S=Se(e,d,h,i,f,_);p&&I&&"value"in h&&w(e,h.value);for(let v of Object.getOwnPropertySymbols(b))h[v]||M(b[v]);for(let v of Object.getOwnPropertySymbols(h)){var N=h[v];v.description===ee&&(!d||N!==d[v])&&(b[v]&&M(b[v]),b[v]=Y(()=>ye(e,()=>N))),S[v]=N}d=S}),I){var l=e;P(()=>{w(l,d.value,!0),j(l)})}p=!0})}function q(e){return e.__attributes??={[D]:e.nodeName.includes("-"),[G]:e.namespaceURI===oe}}var B=new Map;function K(e){var a=e.getAttribute("is")||e.nodeName,r=B.get(a);if(r)return r;B.set(a,r=[]);for(var s,i=e,f=Element.prototype;f!==i;){s=_e(i);for(var _ in s)s[_].set&&r.push(_);i=ce(i)}return r}export{T as C,k as S,Ie as a,ke as b,L as c,Ee as d,Ae as r,ge as s};
