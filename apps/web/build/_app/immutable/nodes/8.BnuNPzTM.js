import"../chunks/DsnmJJEf.js";import{i as ie}from"../chunks/DI_skYSc.js";import{o as Me}from"../chunks/CeyqlY7M.js";import{p as oe,f as V,c as m,r as h,j as d,a as v,b as de,q as Pe,aA as M,h as je,$ as Ie,s as u,i as N,m as A,g as a,n as D,k as F,y as ge,d as le,z as Re,t as xe,e as Ae}from"../chunks/BYwdtpf8.js";import{i as T}from"../chunks/x2hlQoet.js";import{s as G,c as be}from"../chunks/B-ZH1xP9.js";import{p as Se}from"../chunks/CdEA5IGF.js";import{a as Ee,s as Oe}from"../chunks/DZx-2HU6.js";import{p as Te}from"../chunks/byo8Uj9Z.js";import{g as pe}from"../chunks/B1N5Esk_.js";import{c as Q,d as Ue}from"../chunks/9ek7rKyT.js";import{s as He}from"../chunks/BKmRBtqp.js";import{d as ze,r as We,b as Ke}from"../chunks/Dfeduz-f.js";import{b as f}from"../chunks/BjlGIVXh.js";import{l as X,p as n}from"../chunks/BlWJXHQh.js";import{c as Ye}from"../chunks/B-dksMZM.js";const ye=g=>typeof g=="boolean"?`${g}`:g===0?"0":g,we=Ye,De=(g,e)=>r=>{var P;if(e?.variants==null)return we(g,r?.class,r?.className);const{variants:y,defaultVariants:x}=e,i=Object.keys(y).map(s=>{const c=r?.[s],o=x?.[s];if(c===null)return null;const w=ye(c)||ye(o);return y[s][w]}),b=r&&Object.entries(r).reduce((s,c)=>{let[o,w]=c;return w===void 0||(s[o]=w),s},{}),p=e==null||(P=e.compoundVariants)===null||P===void 0?void 0:P.reduce((s,c)=>{let{class:o,className:w,...j}=c;return Object.entries(j).every(I=>{let[B,z]=I;return Array.isArray(z)?z.includes({...x,...b}[B]):{...x,...b}[B]===z})?[...s,o,w]:s},[]);return we(g,i,p,r?.class,r?.className)};var Fe=V("<button><!></button>");function J(g,e){const r=X(e,["children","$$slots","$$events","$$legacy"]),P=X(r,["class","variant","size","type","disabled"]);oe(e,!1);let y=n(e,"class",8,void 0),x=n(e,"variant",8,"default"),i=n(e,"size",8,"default"),b=n(e,"type",8,"button"),p=n(e,"disabled",8,!1);ie();var s=Fe();ze(s,o=>({type:b(),disabled:p(),class:o,...P}),[()=>(M(Q),M(ke),M(x()),M(i()),M(y()),Pe(()=>Q(ke({variant:x(),size:i(),className:y()}))))]);var c=m(s);He(c,e,"default",{}),h(s),d("click",s,function(o){f.call(this,e,o)}),d("keydown",s,function(o){f.call(this,e,o)}),v(g,s),de()}const ke=De("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});var Ge=V("<input/>");function _e(g,e){const r=X(e,["children","$$slots","$$events","$$legacy"]),P=X(r,["class","value","placeholder","type","disabled","readonly","id","name","required","autofocus","autocomplete","maxlength","minlength","pattern","step","min","max"]);oe(e,!1);let y=n(e,"class",8,void 0),x=n(e,"value",12,void 0),i=n(e,"placeholder",8,void 0),b=n(e,"type",8,"text"),p=n(e,"disabled",8,void 0),s=n(e,"readonly",8,void 0),c=n(e,"id",8,void 0),o=n(e,"name",8,void 0),w=n(e,"required",8,void 0),j=n(e,"autofocus",8,void 0),I=n(e,"autocomplete",8,void 0),B=n(e,"maxlength",8,void 0),z=n(e,"minlength",8,void 0),U=n(e,"pattern",8,void 0),Z=n(e,"step",8,void 0),$=n(e,"min",8,void 0),ee=n(e,"max",8,void 0);ie();var l=Ge();We(l),ze(l,t=>({placeholder:i(),type:b(),disabled:p(),readonly:s(),id:c(),name:o(),required:w(),autofocus:j(),autocomplete:I(),maxlength:B(),minlength:z(),pattern:U(),step:Z(),min:$(),max:ee(),class:t,...P}),[()=>(M(Q),M(y()),Pe(()=>Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",y())))]),Ke(l,x),d("blur",l,function(t){f.call(this,e,t)}),d("change",l,function(t){f.call(this,e,t)}),d("click",l,function(t){f.call(this,e,t)}),d("focus",l,function(t){f.call(this,e,t)}),d("focusin",l,function(t){f.call(this,e,t)}),d("focusout",l,function(t){f.call(this,e,t)}),d("keydown",l,function(t){f.call(this,e,t)}),d("keypress",l,function(t){f.call(this,e,t)}),d("keyup",l,function(t){f.call(this,e,t)}),d("mouseover",l,function(t){f.call(this,e,t)}),d("mouseenter",l,function(t){f.call(this,e,t)}),d("mouseleave",l,function(t){f.call(this,e,t)}),d("paste",l,function(t){f.call(this,e,t)}),d("input",l,function(t){f.call(this,e,t)}),v(g,l),de()}var Je=V('<meta name="description" content="Create a new password for your PicknWin account"/>'),Qe=V('<div class="text-center space-y-4"><div class="mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-red-600 dark:text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Invalid Reset Link</h2> <p class="text-slate-600 dark:text-slate-400 max-w-sm mx-auto">This password reset link is invalid or has expired. Please request a new one.</p> <div class="space-y-3"><!> <!></div></div>'),Xe=V('<div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3"><div class="flex items-center space-x-2"><svg class="w-4 h-4 text-red-600 dark:text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg> <p class="text-sm text-red-700 dark:text-red-300"> </p></div></div>'),Ze=Re('<svg class="animate-spin -ml-1 mr-3 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Updating Password...',1),$e=V('<div class="text-center"><h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-2">Create New Password</h2> <p class="text-slate-600 dark:text-slate-400">Enter a strong password for your account</p></div> <form class="space-y-4"><div class="space-y-2"><label for="password" class="text-sm font-medium text-slate-700 dark:text-slate-300">New Password</label> <!></div> <div class="space-y-2"><label for="confirmPassword" class="text-sm font-medium text-slate-700 dark:text-slate-300">Confirm New Password</label> <!></div> <div class="bg-slate-50 dark:bg-slate-800 rounded-lg p-4"><h4 class="text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Password Requirements:</h4> <ul class="text-sm text-slate-600 dark:text-slate-400 space-y-1"><li class="flex items-center space-x-2"><div></div> <span>At least 6 characters</span></li> <li class="flex items-center space-x-2"><div></div> <span>Passwords match</span></li></ul></div> <!> <!></form>',1),et=V('<div class="text-center space-y-4"><div class="mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div> <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Password Updated!</h2> <p class="text-slate-600 dark:text-slate-400 max-w-sm mx-auto">Your password has been successfully updated. You can now sign in with your new password.</p> <!></div>'),tt=V('<div class="text-center"><a href="/auth/login" class="inline-flex items-center text-sm text-slate-500 hover:text-primary-600 dark:text-slate-400 dark:hover:text-primary-400 transition-colors"><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg> Back to Sign In</a></div>'),at=V('<div class="space-y-6"><!> <!></div>');function pt(g,e){oe(e,!1);const r=()=>Oe(Te,"$page",P),[P,y]=Ee();let x="",i=A(""),b=A(""),p=A(!1),s=A(!1),c=A(""),o=A(!0);Me(()=>{x=r().url.searchParams.get("token")||"",x||(N(o,!1),N(c,"Invalid or missing reset token"))});function w(){return a(i)?a(i).length<6?"Password must be at least 6 characters long":a(i)!==a(b)?"Passwords do not match":null:"Please enter a new password"}async function j(){const t=w();if(t){N(c,t);return}N(c,""),N(p,!0),await Ue(1500),N(p,!1),N(s,!0)}function I(t){t.key==="Enter"&&j()}function B(){pe("/auth/login")}ie();var z=at();je(t=>{var k=Je();Ie.title="Reset Password - PicknWin",v(t,k)});var U=m(z);{var Z=t=>{var k=Qe(),H=u(m(k),6),W=m(H);J(W,{class:"neumorphic-button bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white",$$events:{click:()=>pe("/auth/forgot")},children:(_,q)=>{D();var C=F("Request New Reset Link");v(_,C)},$$slots:{default:!0}});var te=u(W,2);J(te,{variant:"outline",class:"neumorphic-button-outline",$$events:{click:B},children:(_,q)=>{D();var C=F("Back to Sign In");v(_,C)},$$slots:{default:!0}}),h(H),h(k),v(t,k)},$=t=>{var k=ge(),H=le(k);{var W=_=>{var q=$e(),C=u(le(q),2),S=m(C),ce=u(m(S),2);_e(ce,{id:"password",type:"password",placeholder:"Enter new password (min. 6 characters)",get disabled(){return a(p)},class:"neumorphic-input",get value(){return a(i)},set value(L){N(i,L)},$$events:{keypress:I},$$legacy:!0}),h(S);var E=u(S,2),Ce=u(m(E),2);_e(Ce,{id:"confirmPassword",type:"password",placeholder:"Confirm your new password",get disabled(){return a(p)},class:"neumorphic-input",get value(){return a(b)},set value(L){N(b,L)},$$events:{keypress:I},$$legacy:!0}),h(E);var ae=u(E,2),ue=u(m(ae),2),re=m(ue),ve=m(re),Le=u(ve,2);h(re);var fe=u(re,2),me=m(fe),Ne=u(me,2);h(fe),h(ue),h(ae);var he=u(ae,2);{var Ve=L=>{var K=Xe(),O=m(K),Y=u(m(O),2),se=m(Y,!0);h(Y),h(O),h(K),xe(()=>Ae(se,a(c))),v(L,K)};T(he,L=>{a(c)&&L(Ve)})}var qe=u(he,2);J(qe,{type:"submit",get disabled(){return a(p)},class:"w-full neumorphic-button bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-medium py-3 transition-all duration-200",children:(L,K)=>{var O=ge(),Y=le(O);{var se=R=>{var ne=Ze();D(),v(R,ne)},Be=R=>{var ne=F("Update Password");v(R,ne)};T(Y,R=>{a(p)?R(se):R(Be,!1)})}v(L,O)},$$slots:{default:!0}}),h(C),xe(()=>{G(ve,1,`w-1.5 h-1.5 rounded-full ${a(i).length>=6?"bg-green-500":"bg-slate-300 dark:bg-slate-600"}`),G(Le,1,be(a(i).length>=6?"text-green-600 dark:text-green-400":"")),G(me,1,`w-1.5 h-1.5 rounded-full ${a(i)===a(b)&&a(i)?"bg-green-500":"bg-slate-300 dark:bg-slate-600"}`),G(Ne,1,be(a(i)===a(b)&&a(i)?"text-green-600 dark:text-green-400":""))}),d("submit",C,Se(j)),v(_,q)},te=_=>{var q=et(),C=u(m(q),6);J(C,{class:"neumorphic-button bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white",$$events:{click:B},children:(S,ce)=>{D();var E=F("Sign In Now");v(S,E)},$$slots:{default:!0}}),h(q),v(_,q)};T(H,_=>{a(s)?_(te,!1):_(W)},!0)}v(t,k)};T(U,t=>{a(o)?t($,!1):t(Z)})}var ee=u(U,2);{var l=t=>{var k=tt();v(t,k)};T(ee,t=>{a(o)&&!a(s)&&t(l)})}h(z),v(g,z),de(),y()}export{pt as component};
