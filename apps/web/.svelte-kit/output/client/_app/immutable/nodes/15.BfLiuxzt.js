import"../chunks/DsnmJJEf.js";import{i as fa}from"../chunks/DI_skYSc.js";import{o as ha}from"../chunks/CeyqlY7M.js";import{p as xa,f as y,h as ga,d as ve,c as a,t as O,j as Y,g as e,a as n,b as ba,$ as _a,s as i,i as o,m as N,e as d,n as he,r as t,T as et,z as Me,y as xe,k as Ce}from"../chunks/BYwdtpf8.js";import{i as w}from"../chunks/x2hlQoet.js";import{e as $e,i as Te}from"../chunks/5yF2oE_f.js";import{b as wa,s as tt,r as ya}from"../chunks/Dfeduz-f.js";import{s as z}from"../chunks/B-ZH1xP9.js";import{a as ka,s as Ae}from"../chunks/DZx-2HU6.js";import{p as Ca}from"../chunks/VodBLl8-.js";import{g as at}from"../chunks/CUwP_rfp.js";import{m as Vt,c as st,t as $a,i as Ta}from"../chunks/CJJjtxOk.js";import"../chunks/CBJPUhe-.js";import{L as Ma}from"../chunks/Q54izqgF.js";class Sa{static async generateTeamSuggestions(q,U,re=100){return new Promise(K=>{setTimeout(()=>{const B=U.filter(c=>c.position==="GK"),G=U.filter(c=>c.position==="DEF"),W=U.filter(c=>c.position==="MID"),v=U.filter(c=>c.position==="FWD"),R=(c,I)=>{const ie=(c.points||50)/c.credits;return(I.points||50)/I.credits-ie};B.sort(R),G.sort(R),W.sort(R),v.sort(R);const ge=[...B.slice(0,1),...G.slice(0,4),...W.slice(0,4),...v.slice(0,2)],h=ge.reduce((c,I)=>(I.points||0)>(c.points||0)?I:c),k=ge.filter(c=>c.id!==h.id).reduce((c,I)=>(I.points||0)>(c.points||0)?I:c),C=`This team is balanced with strong performers from both teams. ${h.name} is suggested as captain due to excellent recent form (${h.points} points). The team stays within budget while maximizing potential points.`;K({suggestions:ge,captainSuggestion:h,viceCaptainSuggestion:k,reasoning:C})},1500)})}static async getPlayerAnalysis(q,U){return new Promise(re=>{setTimeout(()=>{const K=q.points||50,B=q.credits;let G,W=[],v=[];switch(K>70&&B<9?(G="highly_recommended",W=["Excellent recent form","Great value for money","Consistent performer"]):K>60?(G="recommended",W=["Good recent form","Reliable choice"]):K>40?(G="risky",v=["Inconsistent form","Moderate risk"]):(G="avoid",v=["Poor recent form","High risk choice"]),q.position){case"GK":W.push("Goalkeeping points bonus");break;case"DEF":W.push("Defensive specialist");break;case"MID":W.push("Midfield versatility");break;case"FWD":W.push("Attacking specialist");break}const R=`${q.name} has been ${K>60?"performing well":"struggling"} recently with an average of ${K}. At ${B} credits, they offer ${B<8?"excellent":B<10?"good":"moderate"} value.`;re({analysis:R,strengths:W,weaknesses:v,recommendation:G})},800)})}static async getMatchInsights(q){return new Promise(U=>{setTimeout(()=>{const re={prediction:`${q.homeTeam} has a slight edge based on recent form and home advantage. Expected to be a high-scoring match.`,keyPlayers:[`${q.homeTeam} captain - Strong attacking form`,`${q.awayTeam} striker - Excellent goal-scoring ability`,"Key midfielders from both teams"],pitchConditions:"Good playing surface with fast pace. Weather conditions favor attacking play.",weatherImpact:"Clear weather expected. No weather interruptions likely.",strategyTips:["Pick attacking midfielders for goal contributions","Consider defenders from strong defensive teams","Forwards provide high scoring potential","Goalkeepers from teams with clean sheet potential"]};U(re)},1200)})}static async*streamTeamBuildingChat(q,U){const re=["Let me analyze your current team...","Based on the match conditions and your budget, ","I'd suggest considering a few changes. ","Your attacking lineup looks strong, but ","you might want to add more defensive stability. ","Consider swapping one forward for a midfielder."];for(const K of re)await new Promise(B=>setTimeout(B,300)),yield{content:K}}}var ja=y('<meta name="description" content="Build your fantasy cricket team and compete"/>'),za=y('<div class="bg-gradient-to-r from-blue-500/10 to-purple-500/10 backdrop-blur-sm rounded-3xl border-2 border-slate-200/60 p-4 shadow-lg shadow-slate-200/25"><div class="text-center"><div class="flex items-center justify-center space-x-4 mb-2"><div class="flex items-center space-x-2"><div class="w-8 h-8 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-400/25"><span class="text-white font-black text-xs"> </span></div> <span class="font-black text-slate-900"> </span></div> <div class="w-6 h-6 bg-gradient-to-br from-slate-400 to-slate-600 rounded-full flex items-center justify-center"><span class="text-white font-bold text-xs">VS</span></div> <div class="flex items-center space-x-2"><span class="font-black text-slate-900"> </span> <div class="w-8 h-8 bg-gradient-to-br from-red-400 to-red-600 rounded-xl flex items-center justify-center shadow-lg shadow-red-400/25"><span class="text-white font-black text-xs"> </span></div></div></div> <p class="text-sm font-medium text-slate-600"> </p> <div class="mt-2 flex items-center justify-center space-x-2"><span class="text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded-full">Live Match</span></div></div></div>'),Pa=y('<button><div class="flex items-center justify-center space-x-2"><span> </span> <span> </span></div> <div class="mt-1"><div><div></div></div></div></button>'),Va=y('<div class="absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center shadow-lg"><svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div>'),Aa=y('<div class="absolute -top-3 -left-1 text-2xl">👑</div>'),Ha=y('<div class="absolute -top-3 -left-1 text-xl">🥈</div>'),Ba=Me('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),Ia=Me('<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>'),La=y('<div class="mt-6 pt-4 border-t-2 border-slate-100/60"><div class="flex space-x-3"><button><div class="flex items-center justify-center space-x-2"><span>👑</span> <span> </span></div></button> <button><div class="flex items-center justify-center space-x-2"><span>🥈</span> <span> </span></div></button></div></div>'),Da=y('<div><div class="p-6"><div class="flex items-center justify-between"><div class="flex-1"><div class="flex items-center space-x-4"><div class="relative"><div class="w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-400/25"><span class="text-xl font-black text-white"> </span></div> <!> <!> <!></div> <div class="flex-1"><h3 class="font-black text-lg text-slate-900"> </h3> <div class="text-sm font-bold text-slate-600 flex items-center space-x-2 mt-1"><span class="bg-slate-100 px-3 py-1 rounded-full"> </span> <span class="bg-blue-100 text-blue-600 px-3 py-1 rounded-full"> </span></div> <div class="text-sm font-bold text-emerald-600 mt-2 flex items-center space-x-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4zM18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"></path></svg> <span> </span></div></div></div></div> <div class="flex items-center space-x-3"><button class="w-12 h-12 bg-white/70 backdrop-blur-sm rounded-2xl border-2 border-slate-200/60 shadow-lg shadow-slate-200/50 hover:shadow-purple-300/60 hover:scale-105 transition-all duration-300 flex items-center justify-center text-purple-600 hover:text-purple-700 hover:border-purple-400/60" title="AI Analysis"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></button> <button><!></button></div></div> <!></div></div>'),Fa=y('<div class="text-center py-8"><p class="text-slate-600"> </p></div>'),Ga=Me('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"></path></svg>'),Ra=y('<span class="text-lg">👑</span>'),Ea=y('<span class="text-lg">🥈</span>'),Na=Me('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-1a1 1 0 00-1-1H9a1 1 0 00-1 1v1a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z" clip-rule="evenodd"></path></svg>'),qa=Me('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),Ka=y('<span class="bg-emerald-100 text-emerald-800 text-xs px-2 py-1 rounded-full font-medium">👑 C</span>'),Wa=y('<span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full font-medium">🥈 VC</span>'),Oa=y('<div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg"><div class="flex items-center space-x-3"><div class="w-8 h-8 bg-slate-200 rounded-full flex items-center justify-center"><span class="text-xs font-medium"> </span></div> <div><p class="font-medium text-slate-900"> </p> <p class="text-xs text-slate-600"> </p></div></div> <div class="flex items-center space-x-2"><!> <span class="text-sm font-medium text-slate-900"> </span></div></div>'),Ya=y('<div class="fixed inset-0 bg-black/50 z-50 flex items-end md:items-center md:justify-center"><div class="bg-white w-full max-w-2xl max-h-[80vh] overflow-y-auto rounded-t-2xl md:rounded-2xl"><div class="p-6"><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-bold text-slate-900">🤖 AI Team Suggestions</h2> <button class="p-2 hover:bg-slate-100 rounded-lg"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6"><h3 class="font-semibold text-purple-900 mb-2">AI Analysis</h3> <p class="text-purple-800 text-sm"> </p></div> <div class="mb-6"><h3 class="font-semibold text-slate-900 mb-3">Suggested Team (11 Players)</h3> <div class="space-y-2"></div></div> <div class="flex space-x-3"><button class="flex-1 py-3 px-4 border border-slate-300 text-slate-700 rounded-lg font-medium hover:bg-slate-50 transition-colors">Cancel</button> <button class="flex-1 py-3 px-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-medium hover:from-purple-600 hover:to-pink-600 transition-all duration-200">Apply Suggestions</button></div></div></div></div>'),Ua=y('<li class="text-sm text-green-700"> </li>'),Ja=y('<div class="mb-4"><h4 class="font-semibold text-green-800 mb-2">✅ Strengths</h4> <ul class="space-y-1"></ul></div>'),Qa=y('<li class="text-sm text-red-700"> </li>'),Xa=y('<div class="mb-6"><h4 class="font-semibold text-red-800 mb-2">⚠️ Concerns</h4> <ul class="space-y-1"></ul></div>'),Za=y('<div class="fixed inset-0 bg-black/50 z-50 flex items-end md:items-center md:justify-center"><div class="bg-white w-full max-w-lg max-h-[80vh] overflow-y-auto rounded-t-2xl md:rounded-2xl"><div class="p-6"><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-bold text-slate-900">📊 Player Analysis</h2> <button class="p-2 hover:bg-slate-100 rounded-lg"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex items-center space-x-4 mb-6"><div class="w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center"><span class="text-lg font-bold text-slate-600"> </span></div> <div><h3 class="text-lg font-bold text-slate-900"> </h3> <p class="text-slate-600"> </p> <p class="text-sm text-slate-500"> </p></div></div> <div class="mb-4"><span> </span></div> <div class="mb-6"><h4 class="font-semibold text-slate-900 mb-2">Analysis</h4> <p class="text-slate-700 text-sm"> </p></div> <!> <!> <button class="w-full py-3 px-4 bg-slate-600 text-white rounded-lg font-medium hover:bg-slate-700 transition-colors">Close</button></div></div></div>'),es=y('<div class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-purple-50/20 pb-20"><div class="bg-white/80 backdrop-blur-sm border-b-2 border-slate-200/60 p-6 shadow-xl shadow-slate-200/50"><div class="flex items-center justify-between mb-4"><button class="w-12 h-12 bg-white/70 backdrop-blur-sm rounded-2xl border-2 border-slate-200/60 shadow-lg shadow-slate-200/50 hover:shadow-slate-300/60 hover:scale-105 transition-all duration-300 flex items-center justify-center text-slate-600 hover:text-slate-900 group"><svg class="w-6 h-6 group-hover:-translate-x-0.5 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <div class="text-center"><h1 class="text-2xl font-black bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent">Create Team</h1> <div class="w-16 h-1 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-full mx-auto mt-2"></div></div> <div class="w-12"></div></div> <!></div> <div class="bg-white/80 backdrop-blur-sm border-b-2 border-slate-200/60 p-6 shadow-xl shadow-slate-200/50"><div class="grid grid-cols-3 gap-4 mb-6"><div class="bg-white/70 backdrop-blur-sm rounded-3xl border-2 border-slate-200/60 shadow-xl shadow-slate-200/50 p-4 text-center hover:scale-105 transition-transform duration-300"><div class="w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-2 shadow-lg shadow-blue-400/25"><svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"></path></svg></div> <div class="text-2xl font-black bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent"> </div> <div class="text-xs font-bold text-slate-600">Players</div> <div class="mt-2"><div class="w-full bg-slate-200 rounded-full h-2"><div class="bg-gradient-to-r from-blue-400 to-blue-600 h-2 rounded-full transition-all duration-300"></div></div></div></div> <div class="bg-white/70 backdrop-blur-sm rounded-3xl border-2 border-slate-200/60 shadow-xl shadow-slate-200/50 p-4 text-center hover:scale-105 transition-transform duration-300"><div class="w-12 h-12 bg-gradient-to-br from-lime-400 to-lime-500 rounded-2xl flex items-center justify-center mx-auto mb-2 shadow-lg shadow-lime-400/25"><svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4zM18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"></path></svg></div> <div class="text-2xl font-black bg-gradient-to-r from-lime-600 to-lime-700 bg-clip-text text-transparent"> </div> <div class="text-xs font-bold text-slate-600">Credits Left</div> <div class="mt-2"><div class="w-full bg-slate-200 rounded-full h-2"><div class="bg-gradient-to-r from-lime-400 to-lime-500 h-2 rounded-full transition-all duration-300"></div></div></div></div> <div class="bg-white/70 backdrop-blur-sm rounded-3xl border-2 border-slate-200/60 shadow-xl shadow-slate-200/50 p-4 text-center hover:scale-105 transition-transform duration-300"><div class="w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-2 shadow-lg shadow-purple-400/25"><svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></div> <div class="text-lg font-black text-slate-900 flex items-center justify-center space-x-2"><span> </span> <span> </span></div> <div class="text-xs font-bold text-slate-600">Captain/VC</div> <div class="mt-2 flex items-center justify-center space-x-1"><span>C</span> <span>VC</span></div></div></div> <div class="mb-4"><div class="relative"><div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"><svg class="w-5 h-5 text-slate-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-1a1 1 0 00-1-1H9a1 1 0 00-1 1v1a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z" clip-rule="evenodd"></path></svg></div> <input type="text" placeholder="Enter team name" maxlength="20" class="w-full pl-12 pr-4 py-4 bg-white/70 backdrop-blur-sm border-2 border-slate-200/60 rounded-3xl focus:outline-none focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-300 shadow-xl shadow-slate-200/50 hover:shadow-slate-300/60 font-medium text-slate-900 placeholder-slate-500"/></div></div></div> <div class="bg-white/80 backdrop-blur-sm border-b-2 border-slate-200/60 p-4 shadow-xl shadow-slate-200/50"><div class="grid grid-cols-2 sm:grid-cols-4 gap-2"></div></div> <div class="p-6"><!> <!></div> <div class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-sm border-t-2 border-slate-200/60 p-6 shadow-2xl shadow-slate-300/50"><div class="max-w-md mx-auto"><button class="w-full bg-gradient-to-r from-emerald-500 to-green-500 text-white py-4 px-6 rounded-3xl font-black text-lg hover:from-emerald-600 hover:to-green-600 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-xl shadow-emerald-400/25 hover:shadow-emerald-500/30 hover:scale-[1.02] border-2 border-emerald-400/20 disabled:hover:scale-100"><div class="flex items-center justify-center space-x-3"><div class="w-8 h-8 bg-white/20 rounded-xl flex items-center justify-center"><!></div> <span><!></span> <div class="flex items-center space-x-1"><span class="text-xs font-bold bg-white/20 px-2 py-1 rounded-full">✨ Ready</span></div></div></button> <div class="mt-4 flex items-center justify-center space-x-4 text-sm font-bold text-slate-600"><div class="flex items-center space-x-2"><div></div> <span>11 Players</span></div> <div class="flex items-center space-x-2"><div></div> <span>Captain</span></div> <div class="flex items-center space-x-2"><div></div> <span>Vice Captain</span></div> <div class="flex items-center space-x-2"><div></div> <span>Team Name</span></div></div></div></div></div> <!> <!> <!>',1);function fs(rt,q){xa(q,!1);const U=()=>Ae(Ca,"$page",G),re=()=>Ae(st,"$contestsStore",G),K=()=>Ae(Vt,"$matchesStore",G),B=()=>Ae(Ta,"$isAuthenticated",G),[G,W]=ka();let v=N(null),R=null,ge=[],h=N([]),k=N(null),C=N(null),c=N(""),I=100,ie=N(0),ee=N("GK"),te=N(null),Se=N(!1),P=N(null),ae=N(null),ce=N(!1),ue=N({title:"Login Required",message:"Please login to build your dream team.",actionText:"Build Team"});const je=[{key:"GK",label:"Goalkeeper",min:1,max:1},{key:"DEF",label:"Defender",min:3,max:5},{key:"MID",label:"Midfielder",min:3,max:5},{key:"FWD",label:"Forward",min:1,max:3}];ha(async()=>{await Promise.all([Vt.loadMatches(),st.loadContests()]);const s=U().url.searchParams.get("contest"),r=U().url.searchParams.get("match");s?(R=re().contests?.find(l=>l.id===s),R&&o(v,K().matches?.find(l=>l.id===R.matchId))):r&&o(v,K().matches?.find(l=>l.id===r)),e(v)&&At()});function At(){!e(v)||!e(v).players||(ge=e(v).players,!e(c)&&e(v).team1&&e(v).team2&&o(c,`${e(v).team1.slice(0,3)}${e(v).team2.slice(0,3)}_T1`))}function it(s){return ge.filter(r=>r.position===s)}function ze(s){return e(h).filter(r=>r.position===s)}function Ht(s){if(!B()){o(ue,{title:"Login Required",message:"Please login to select players and build your team.",actionText:"Select Players"}),o(ce,!0);return}if(e(h).find(l=>l.id===s.id))o(h,e(h).filter(l=>l.id!==s.id)),e(k)?.id===s.id&&o(k,null),e(C)?.id===s.id&&o(C,null);else{if(e(h).length>=11){alert("You can only select 11 players");return}const l=je.find(u=>u.key===s.position);if(!l){alert("Invalid player position");return}if(ze(s.position).length>=l.max){alert(`You can only select ${l.max} ${l.label}s`);return}if(e(ie)+s.credits>I){alert("Not enough credits remaining");return}o(h,[...e(h),s])}o(ie,e(h).reduce((l,g)=>l+g.credits,0))}function Bt(s){if(!B()){o(ue,{title:"Login Required",message:"Please login to select captain and vice captain.",actionText:"Select Captain"}),o(ce,!0);return}e(k)?.id===s.id?o(k,null):(o(k,s),e(C)?.id===s.id&&o(C,null))}function It(s){if(!B()){o(ue,{title:"Login Required",message:"Please login to select captain and vice captain.",actionText:"Select Vice Captain"}),o(ce,!0);return}e(C)?.id===s.id?o(C,null):(o(C,s),e(k)?.id===s.id&&o(k,null))}async function Lt(s){if(e(v)){o(ae,s);try{o(P,await Sa.getPlayerAnalysis(s,e(v)))}catch(r){console.error("Player analysis failed:",r)}}}function Dt(){e(te)&&(o(h,[]),o(k,null),o(C,null),o(h,[...e(te).suggestions]),o(k,e(te).captainSuggestion),o(C,e(te).viceCaptainSuggestion),o(ie,e(h).reduce((s,r)=>s+r.credits,0)),o(Se,!1))}function Ft(){if(e(h).length!==11)return"Please select exactly 11 players";for(const s of je)if(ze(s.key).length<s.min)return`Select at least ${s.min} ${s.label}${s.min>1?"s":""}`;return e(k)?e(C)?e(c).trim()?null:"Please enter a team name":"Please select a vice captain":"Please select a captain"}async function Gt(){if(!B()){o(ue,{title:"Save Team",message:"Please login to save your team and join contests.",actionText:"Save Team"}),o(ce,!0);return}const s=Ft();if(s){alert(s);return}const r={id:Date.now().toString(),name:e(c),matchId:e(v).id,contestId:R?.id,players:e(h),captain:e(k),viceCaptain:e(C),totalCredits:I,creditsUsed:e(ie),createdAt:new Date().toISOString()};await $a.saveTeam(r),R?(await st.joinContest(R.id,r.id),at("/contests")):at("/dashboard")}function He(s){return e(v)?s.teamId===e(v).team1Id?e(v).team1:e(v).team2:""}fa();var lt=es();ga(s=>{var r=ja();_a.title="Team Builder - PickNWin",n(s,r)});var Be=ve(lt),Ie=a(Be),Le=a(Ie),Rt=a(Le);he(4),t(Le);var Et=i(Le,2);{var Nt=s=>{var r=za(),l=a(r),g=a(l),u=a(g),p=a(u),x=a(p),M=a(x,!0);t(x),t(p);var S=i(p,2),j=a(S,!0);t(S),t(u);var m=i(u,4),b=a(m),V=a(b,!0);t(b);var L=i(b,2),E=a(L),f=a(E,!0);t(E),t(L),t(m),t(g);var $=i(g,2),J=a($,!0);t($),he(2),t(l),t(r),O((Q,le,X)=>{d(M,Q),d(j,e(v).team1||"Team 1"),d(V,e(v).team2||"Team 2"),d(f,le),d(J,X)},[()=>e(v).team1?.substring(0,2)||"T1",()=>e(v).team2?.substring(0,2)||"T2",()=>new Date(e(v).startTime).toLocaleDateString()]),n(s,r)};w(Et,s=>{e(v)&&s(Nt)})}t(Ie);var De=i(Ie,2),Fe=a(De),Ge=a(Fe),Re=i(a(Ge),2),qt=a(Re);t(Re);var ot=i(Re,4),nt=a(ot),Kt=a(nt);t(nt),t(ot),t(Ge);var Ee=i(Ge,2),Ne=i(a(Ee),2),Wt=a(Ne,!0);t(Ne);var dt=i(Ne,4),vt=a(dt),Ot=a(vt);t(vt),t(dt),t(Ee);var ct=i(Ee,2),qe=i(a(ct),2),Pe=a(qe),Yt=a(Pe,!0);Yt.nodeValue="👑",t(Pe);var Ke=i(Pe,2),Ut=a(Ke,!0);Ut.nodeValue="🥈",t(Ke),t(qe);var ut=i(qe,4),mt=a(ut),Jt=i(mt,2);t(ut),t(ct),t(Fe);var pt=i(Fe,2),ft=a(pt),ht=i(a(ft),2);ya(ht),t(ft),t(pt),t(De);var We=i(De,2),xt=a(We);$e(xt,5,()=>je,Te,(s,r)=>{var l=Pa(),g=a(l),u=a(g),p=a(u,!0);t(u);var x=i(u,2),M=a(x);t(x),t(g);var S=i(g,2),j=a(S),m=a(j);t(j),t(S),t(l),O((b,V)=>{z(l,1,`px-4 py-4 text-sm font-black text-center rounded-3xl transition-all duration-300 border-2 shadow-lg hover:scale-105 ${e(ee)===e(r).key?"border-emerald-500/60 text-white bg-gradient-to-r from-emerald-500 to-green-500 shadow-emerald-400/25":"border-slate-200/60 text-slate-600 bg-white/70 backdrop-blur-sm shadow-slate-200/50 hover:text-slate-900 hover:border-slate-300/60 hover:shadow-slate-300/60"}`),d(p,e(r).label),z(x,1,`text-xs px-3 py-1 rounded-full font-bold ${e(ee)===e(r).key?"bg-white/20 text-white":"bg-slate-100 text-slate-600"}`),d(M,`${b??""}/${e(r).max??""}`),z(j,1,`w-full bg-slate-200 rounded-full h-1 ${e(ee)===e(r).key?"bg-white/20":""}`),z(m,1,`h-1 rounded-full transition-all duration-300 ${e(ee)===e(r).key?"bg-white":"bg-gradient-to-r from-emerald-400 to-green-500"}`),tt(m,`width: ${V??""}%`)},[()=>ze(e(r).key).length,()=>ze(e(r).key).length/e(r).max*100]),Y("click",l,()=>o(ee,e(r).key)),n(s,l)}),t(xt),t(We);var Oe=i(We,2),gt=a(Oe);$e(gt,1,()=>it(e(ee)),Te,(s,r)=>{const l=et(()=>e(h).find(_=>_.id===e(r).id)),g=et(()=>e(k)?.id===e(r).id),u=et(()=>e(C)?.id===e(r).id);var p=Da(),x=a(p),M=a(x),S=a(M),j=a(S),m=a(j),b=a(m),V=a(b),L=a(V,!0);t(V),t(b);var E=i(b,2);{var f=_=>{var H=Va();n(_,H)};w(E,_=>{e(l)&&_(f)})}var $=i(E,2);{var J=_=>{var H=Aa();n(_,H)};w($,_=>{e(g)&&_(J)})}var Q=i($,2);{var le=_=>{var H=Ha();n(_,H)};w(Q,_=>{e(u)&&_(le)})}t(m);var X=i(m,2),se=a(X),me=a(se,!0);t(se);var oe=i(se,2),ne=a(oe),be=a(ne,!0);t(ne);var pe=i(ne,2),_e=a(pe,!0);t(pe),t(oe);var D=i(oe,2),F=i(a(D),2),Z=a(F);t(F),t(D),t(X),t(j),t(S);var de=i(S,2),A=a(de),T=i(A,2),fe=a(T);{var Xe=_=>{var H=Ba();n(_,H)},ye=_=>{var H=Ia();n(_,H)};w(fe,_=>{e(l)?_(Xe):_(ye,!1)})}t(T),t(de),t(M);var Ze=i(M,2);{var ua=_=>{var H=La(),Mt=a(H),ke=a(Mt),St=a(ke),jt=i(a(St),2),ma=a(jt,!0);t(jt),t(St),t(ke);var Ve=i(ke,2),zt=a(Ve),Pt=i(a(zt),2),pa=a(Pt,!0);t(Pt),t(zt),t(Ve),t(Mt),t(H),O(()=>{z(ke,1,`flex-1 py-3 px-4 rounded-2xl text-sm font-black transition-all duration-300 hover:scale-105 shadow-lg border-2 ${e(g)?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-white border-yellow-400/60 shadow-yellow-400/25":"bg-white/70 backdrop-blur-sm text-slate-700 border-slate-200/60 shadow-slate-200/50 hover:border-yellow-400/60 hover:text-yellow-600 hover:shadow-yellow-300/60"}`),d(ma,e(g)?"Captain":"Make Captain"),z(Ve,1,`flex-1 py-3 px-4 rounded-2xl text-sm font-black transition-all duration-300 hover:scale-105 shadow-lg border-2 ${e(u)?"bg-gradient-to-r from-blue-400 to-blue-500 text-white border-blue-400/60 shadow-blue-400/25":"bg-white/70 backdrop-blur-sm text-slate-700 border-slate-200/60 shadow-slate-200/50 hover:border-blue-400/60 hover:text-blue-600 hover:shadow-blue-300/60"}`),d(pa,e(u)?"Vice Captain":"Make VC")}),Y("click",ke,()=>Bt(e(r))),Y("click",Ve,()=>It(e(r))),n(_,H)};w(Ze,_=>{e(l)&&_(ua)})}t(x),t(p),O((_,H)=>{z(p,1,`bg-white/80 backdrop-blur-sm rounded-3xl border-2 border-slate-200/60 mb-4 overflow-hidden shadow-xl shadow-slate-200/50 hover:shadow-slate-300/60 transition-all duration-300 hover:scale-[1.02] ${e(l)?"ring-4 ring-emerald-500/30 border-emerald-400/60":""}`),d(L,_),d(me,e(r).name),d(be,H),d(_e,e(r).position),d(Z,`${e(r).credits??""} Credits`),z(T,1,`w-12 h-12 rounded-2xl border-2 flex items-center justify-center transition-all duration-300 hover:scale-105 shadow-lg ${e(l)?"border-emerald-500/60 bg-gradient-to-r from-emerald-500 to-green-500 text-white shadow-emerald-400/25":"border-slate-300/60 bg-white/70 backdrop-blur-sm text-slate-600 hover:border-emerald-500/60 hover:text-emerald-600 shadow-slate-200/50 hover:shadow-emerald-300/60"}`)},[()=>e(r).name.charAt(0),()=>He(e(r))]),Y("click",A,()=>Lt(e(r))),Y("click",T,()=>Ht(e(r))),n(s,p)});var Qt=i(gt,2);{var Xt=s=>{var r=Fa(),l=a(r),g=a(l);t(l),t(r),O(u=>d(g,`No ${u??""}s available`),[()=>je.find(u=>u.key===e(ee))?.label]),n(s,r)};w(Qt,s=>{it(e(ee)).length===0&&s(Xt)})}t(Oe);var bt=i(Oe,2),_t=a(bt),we=a(_t),wt=a(we),Ye=a(wt),Zt=a(Ye);{var ea=s=>{var r=Ga();n(s,r)},ta=s=>{var r=xe(),l=ve(r);{var g=p=>{var x=Ra();n(p,x)},u=p=>{var x=xe(),M=ve(x);{var S=m=>{var b=Ea();n(m,b)},j=m=>{var b=xe(),V=ve(b);{var L=f=>{var $=Na();n(f,$)},E=f=>{var $=qa();n(f,$)};w(V,f=>{e(c).trim()?f(E,!1):f(L)},!0)}n(m,b)};w(M,m=>{e(C)?m(j,!1):m(S)},!0)}n(p,x)};w(l,p=>{e(k)?p(u,!1):p(g)},!0)}n(s,r)};w(Zt,s=>{e(h).length!==11?s(ea):s(ta,!1)})}t(Ye);var yt=i(Ye,2),aa=a(yt);{var sa=s=>{var r=Ce();O(()=>d(r,`Select ${11-e(h).length} more player${11-e(h).length!==1?"s":""}`)),n(s,r)},ra=s=>{var r=xe(),l=ve(r);{var g=p=>{var x=Ce("Select Captain");n(p,x)},u=p=>{var x=xe(),M=ve(x);{var S=m=>{var b=Ce("Select Vice Captain");n(m,b)},j=m=>{var b=xe(),V=ve(b);{var L=f=>{var $=Ce("Enter Team Name");n(f,$)},E=f=>{var $=Ce("Save Team");n(f,$)};w(V,f=>{e(c).trim()?f(E,!1):f(L)},!0)}n(m,b)};w(M,m=>{e(C)?m(j,!1):m(S)},!0)}n(p,x)};w(l,p=>{e(k)?p(u,!1):p(g)},!0)}n(s,r)};w(aa,s=>{e(h).length!==11?s(sa):s(ra,!1)})}t(yt),he(2),t(wt),t(we);var kt=i(we,2),Ue=a(kt),ia=a(Ue);he(2),t(Ue);var Je=i(Ue,2),la=a(Je);he(2),t(Je);var Qe=i(Je,2),oa=a(Qe);he(2),t(Qe);var Ct=i(Qe,2),na=a(Ct);he(2),t(Ct),t(kt),t(_t),t(bt),t(Be);var $t=i(Be,2);{var da=s=>{var r=Ya(),l=a(r),g=a(l),u=a(g),p=i(a(u),2);t(u);var x=i(u,2),M=i(a(x),2),S=a(M,!0);t(M),t(x);var j=i(x,2),m=i(a(j),2);$e(m,5,()=>e(te).suggestions,Te,(E,f)=>{var $=Oa(),J=a($),Q=a(J),le=a(Q),X=a(le,!0);t(le),t(Q);var se=i(Q,2),me=a(se),oe=a(me,!0);t(me);var ne=i(me,2),be=a(ne);t(ne),t(se),t(J);var pe=i(J,2),_e=a(pe);{var D=A=>{var T=Ka();n(A,T)},F=A=>{var T=xe(),fe=ve(T);{var Xe=ye=>{var Ze=Wa();n(ye,Ze)};w(fe,ye=>{e(te).viceCaptainSuggestion.id===e(f).id&&ye(Xe)},!0)}n(A,T)};w(_e,A=>{e(te).captainSuggestion.id===e(f).id?A(D):A(F,!1)})}var Z=i(_e,2),de=a(Z,!0);t(Z),t(pe),t($),O((A,T)=>{d(X,A),d(oe,e(f).name),d(be,`${e(f).position??""} • ${T??""}`),d(de,e(f).credits)},[()=>e(f).name.charAt(0),()=>He(e(f))]),n(E,$)}),t(m),t(j);var b=i(j,2),V=a(b),L=i(V,2);t(b),t(g),t(l),t(r),O(()=>d(S,e(te).reasoning)),Y("click",p,()=>o(Se,!1)),Y("click",V,()=>o(Se,!1)),Y("click",L,Dt),n(s,r)};w($t,s=>{e(Se)&&e(te)&&s(da)})}var Tt=i($t,2);Ma(Tt,{get title(){return e(ue).title},get message(){return e(ue).message},get actionText(){return e(ue).actionText},get isOpen(){return e(ce)},set isOpen(s){o(ce,s)},$$events:{close:()=>o(ce,!1)},$$legacy:!0});var va=i(Tt,2);{var ca=s=>{var r=Za(),l=a(r),g=a(l),u=a(g),p=i(a(u),2);t(u);var x=i(u,2),M=a(x),S=a(M),j=a(S,!0);t(S),t(M);var m=i(M,2),b=a(m),V=a(b,!0);t(b);var L=i(b,2),E=a(L);t(L);var f=i(L,2),$=a(f);t(f),t(m),t(x);var J=i(x,2),Q=a(J),le=a(Q,!0);t(Q),t(J);var X=i(J,2),se=i(a(X),2),me=a(se,!0);t(se),t(X);var oe=i(X,2);{var ne=D=>{var F=Ja(),Z=i(a(F),2);$e(Z,5,()=>e(P).strengths,Te,(de,A)=>{var T=Ua(),fe=a(T);t(T),O(()=>d(fe,`• ${e(A)??""}`)),n(de,T)}),t(Z),t(F),n(D,F)};w(oe,D=>{e(P).strengths.length>0&&D(ne)})}var be=i(oe,2);{var pe=D=>{var F=Xa(),Z=i(a(F),2);$e(Z,5,()=>e(P).weaknesses,Te,(de,A)=>{var T=Qa(),fe=a(T);t(T),O(()=>d(fe,`• ${e(A)??""}`)),n(de,T)}),t(Z),t(F),n(D,F)};w(be,D=>{e(P).weaknesses.length>0&&D(pe)})}var _e=i(be,2);t(g),t(l),t(r),O((D,F)=>{d(j,D),d(V,e(ae).name),d(E,`${e(ae).position??""} • ${F??""}`),d($,`${e(ae).credits??""} Credits`),z(Q,1,`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${e(P).recommendation==="highly_recommended"?"bg-green-100 text-green-800":e(P).recommendation==="recommended"?"bg-blue-100 text-blue-800":e(P).recommendation==="risky"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`),d(le,e(P).recommendation==="highly_recommended"?"🌟 Highly Recommended":e(P).recommendation==="recommended"?"👍 Recommended":e(P).recommendation==="risky"?"⚠️ Risky":"❌ Avoid"),d(me,e(P).analysis)},[()=>e(ae).name.charAt(0),()=>He(e(ae))]),Y("click",p,()=>{o(ae,null),o(P,null)}),Y("click",_e,()=>{o(ae,null),o(P,null)}),n(s,r)};w(va,s=>{e(ae)&&e(P)&&s(ca)})}O((s,r)=>{d(qt,`${e(h).length??""}/11`),tt(Kt,`width: ${e(h).length/11*100}%`),d(Wt,I-e(ie)),tt(Ot,`width: ${(I-e(ie))/I*100}%`),z(Pe,1,e(k)?"text-yellow-600":"text-slate-400"),z(Ke,1,e(C)?"text-blue-600":"text-slate-400"),z(mt,1,`text-xs font-bold px-2 py-1 rounded-full ${e(k)?"text-yellow-600 bg-yellow-50":"text-slate-400 bg-slate-100"}`),z(Jt,1,`text-xs font-bold px-2 py-1 rounded-full ${e(C)?"text-blue-600 bg-blue-50":"text-slate-400 bg-slate-100"}`),we.disabled=s,z(ia,1,`w-3 h-3 rounded-full ${e(h).length===11?"bg-emerald-500":"bg-slate-300"}`),z(la,1,`w-3 h-3 rounded-full ${e(k)?"bg-yellow-500":"bg-slate-300"}`),z(oa,1,`w-3 h-3 rounded-full ${e(C)?"bg-blue-500":"bg-slate-300"}`),z(na,1,`w-3 h-3 rounded-full ${r??""}`)},[()=>e(h).length!==11||!e(k)||!e(C)||!e(c).trim(),()=>e(c).trim()?"bg-purple-500":"bg-slate-300"]),Y("click",Rt,()=>at("/contests")),wa(ht,()=>e(c),s=>o(c,s)),Y("click",we,Gt),n(rt,lt),ba(),W()}export{fs as component};
