import{R as We,g as Le}from"../chunks/CHmzRBH6.js";import"../chunks/DsnmJJEf.js";import{o as Be,s as Se}from"../chunks/d-9Q_JcI.js";import{D as ze,p as Te,f,h as qe,t as Z,a as d,b as De,n as de,c as t,g as u,aV as X,s,r as a,d as Y,j as p,E as ve,x as _e,e as P}from"../chunks/CC47Dqnt.js";import{i as j}from"../chunks/3oX9xRnt.js";import{s as B}from"../chunks/CC5kzxMM.js";import{a as Ie,s as ee}from"../chunks/DLEGmHds.js";import{p as Ue}from"../chunks/ICb-5blB.js";import{u as me,i as Ze,b as Ee}from"../chunks/b6JBECFY.js";import"../chunks/BSbMBcI1.js";import"../chunks/BgZjGsrQ.js";function he(r,e){throw new We(r,e.toString())}const pe=["/","/how-to-play","/faqs","/terms","/auth/login","/auth/register","/auth/forgot","/auth/reset"],ue=["/contests"],fe=["/dashboard","/wallet","/my-teams","/team-builder","/live","/results","/profile","/admin"],Ne=async({url:r,depends:e})=>{e("auth:user");const l=r.pathname;let _=!1;try{_=!!localStorage.getItem("user")}catch{_=!1}const v=fe.some(i=>l===i||l.startsWith(i+"/")),R=pe.some(i=>l===i||l.startsWith(i+"/")),E=ue.some(i=>l===i||l.startsWith(i+"/"));if(v&&!_){const i=encodeURIComponent(l+r.search);throw he(302,`/auth/login?returnTo=${i}`)}if(_&&l.startsWith("/auth"))throw he(302,"/dashboard");return{isAuthenticated:_,requiresAuth:v,isPublicRoute:R,isPreviewRoute:E,pathname:l,publicRoutes:pe,previewRoutes:ue,requiredAuthRoutes:fe}},jt=Object.freeze(Object.defineProperty({__proto__:null,load:Ne},Symbol.toStringTag,{value:"Module"}));var Oe=f('<link rel="icon" href="/favicon.ico"/> <link rel="preconnect" href="https://fonts.googleapis.com"/> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>',1),Fe=(r,e)=>p(e,!u(e)),Ge=_e('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>'),Je=_e('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>'),Ke=(r,e)=>p(e,!u(e)),Qe=f('<div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 py-1"><a href="/profile" class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-50">Profile</a> <a href="/wallet" class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 sm:hidden">Wallet</a> <hr class="my-1 border-slate-200"/> <button class="block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50">Logout</button></div>'),Xe=f('<a href="/wallet" class="hidden sm:flex items-center space-x-2 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 rounded-full px-4 py-2 transition-colors"><svg class="w-4 h-4 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"></path></svg> <span class="text-emerald-700 font-semibold"> </span></a> <div class="relative"><button class="flex items-center space-x-2 p-2 rounded-full hover:bg-slate-50 transition-colors"><div class="w-8 h-8 bg-gradient-to-br from-lime-400 to-lime-500 rounded-full flex items-center justify-center"><span class="text-white font-medium text-sm"> </span></div> <span class="hidden sm:block text-sm font-medium text-slate-700"> </span> <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg></button> <!></div>',1),Ye=f('<div class="flex items-center space-x-3"><a href="/auth/login" class="text-slate-600 hover:text-slate-900 font-medium transition-colors">Login</a> <a href="/auth/register" class="bg-lime-500 hover:bg-lime-600 text-white font-semibold px-4 py-2 rounded-lg transition-colors shadow-sm">Register</a></div>'),et=(r,e)=>p(e,!1),tt=(r,e)=>r.key==="Enter"||r.key===" "?p(e,!1):null,at=(r,e)=>p(e,!1),st=(r,e)=>p(e,!1),rt=(r,e)=>p(e,!1),ot=(r,e)=>p(e,!1),lt=(r,e,l)=>{e(),p(l,!1)},it=f('<div class="border-t border-slate-200 pt-4"><div class="flex items-center space-x-3 px-4 py-3 bg-slate-50 rounded-lg mb-3"><div class="w-10 h-10 bg-gradient-to-br from-lime-400 to-lime-500 rounded-full flex items-center justify-center"><span class="text-white font-medium"> </span></div> <div><div class="font-medium text-slate-900"> </div> <div class="text-sm text-emerald-600 font-semibold"> </div></div></div> <div class="space-y-2"><a href="/wallet" class="block px-4 py-3 text-slate-700 hover:bg-slate-50 rounded-lg font-medium transition-colors">Wallet</a> <a href="/profile" class="block px-4 py-3 text-slate-700 hover:bg-slate-50 rounded-lg font-medium transition-colors">Profile</a> <button class="block w-full text-left px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg font-medium transition-colors">Logout</button></div></div>'),nt=(r,e)=>p(e,!1),ct=(r,e)=>p(e,!1),dt=f('<div class="border-t border-slate-200 pt-4 space-y-3"><a href="/auth/login" class="block px-4 py-3 text-center text-slate-700 hover:bg-slate-50 rounded-lg font-medium transition-colors border border-slate-200">Login</a> <a href="/auth/register" class="block px-4 py-3 text-center bg-lime-500 hover:bg-lime-600 text-white rounded-lg font-semibold transition-colors shadow-sm">Register</a></div>'),vt=f('<div class="md:hidden fixed inset-0 z-40 bg-black/50" role="button" tabindex="0" aria-label="Close mobile menu"></div> <div class="md:hidden fixed top-16 left-0 right-0 z-50 bg-white border-b border-slate-200 shadow-lg"><div class="px-4 py-6 space-y-4"><div class="space-y-2"><a href="/contests" class="block px-4 py-3 text-slate-700 hover:bg-slate-50 rounded-lg font-medium transition-colors">Contests</a> <a href="/how-to-play" class="block px-4 py-3 text-slate-700 hover:bg-slate-50 rounded-lg font-medium transition-colors">How to Play</a></div> <!></div></div>',1),mt=f('<header class="sticky top-0 z-50 bg-white/95 backdrop-blur-xl border-b border-slate-200/60 shadow-sm"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-16"><a href="/" class="flex items-center space-x-3"><div class="relative"><div class="w-10 h-10 bg-gradient-to-br from-lime-400 to-lime-500 rounded-2xl shadow-lg shadow-lime-400/25 flex items-center justify-center"><span class="text-white font-black text-lg">P</span></div></div> <span class="text-xl font-black text-slate-900 tracking-tight">PickNWin</span></a> <nav class="hidden md:flex items-center space-x-8"><a href="/contests" class="text-slate-600 hover:text-slate-900 font-medium transition-colors">Contests</a> <a href="/how-to-play" class="text-slate-600 hover:text-slate-900 font-medium transition-colors">How to Play</a></nav> <button class="md:hidden p-2 rounded-lg hover:bg-slate-100 transition-colors" aria-label="Toggle mobile menu"><svg class="w-6 h-6 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><!></svg></button> <div class="hidden md:flex items-center space-x-4"><!></div></div></div></header> <!>',1),ht=f('<nav class="fixed bottom-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-xl border-t border-slate-200/60 shadow-lg md:hidden"><div class="flex items-center justify-around py-2"><a href="/dashboard"><svg class="w-5 h-5 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.25-8.25a1.125 1.125 0 0 1 1.59 0L20.25 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"></path></svg> <span class="text-xs font-medium">Home</span></a> <a href="/contests"><svg class="w-5 h-5 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M15.75 4.5c0-.621-.504-1.125-1.125-1.125h-9c-.621 0-1.125.504-1.125 1.125v4.127c0 2.49.824 4.916 2.343 6.75l.071.108c.054.082.12.15.196.196l.108.071c.497.497 1.042.625 1.407.625.365 0 .91-.128 1.407-.625l.108-.071A8.817 8.817 0 0 0 15.75 8.627V4.5Z"></path></svg> <span class="text-xs font-medium">Contests</span></a> <a href="/wallet"><svg class="w-5 h-5 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"></path></svg> <span class="text-xs font-medium">Wallet</span></a> <a href="/profile"><svg class="w-5 h-5 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"></path></svg> <span class="text-xs font-medium">Profile</span></a></div></nav>'),pt=f('<div class="min-h-screen bg-white text-slate-900"><!> <main><!></main> <!></div>');function Ht(r,e){Te(e,!0);const l=()=>ee(Ue,"$page",R),_=()=>ee(Ze,"$isAuthenticated",R),v=()=>ee(Ee,"$user",R),[R,E]=Ie();Be(()=>{me.loadFromStorage()});function i(){me.logout(),Le("/")}let te=X(()=>l().url.pathname.startsWith("/auth")),ae=X(()=>_()&&!u(te)),xe=X(()=>!u(te)),se=ve(!1),n=ve(!1);function S(c){return l().url.pathname===c||l().url.pathname.startsWith(c+"/")}var N=pt();qe(c=>{var g=Oe();de(6),d(c,g)});var re=t(N);{var ge=c=>{var g=mt(),H=Y(g),$=t(H),V=t($),y=s(t(V),4);y.__click=[Fe,n];var T=t(y),O=t(T);{var F=o=>{var m=Ge();d(o,m)},G=o=>{var m=Je();d(o,m)};j(O,o=>{u(n)?o(F):o(G,!1)})}a(T),a(y);var q=s(y,2),ye=t(q);{var Ae=o=>{var m=Xe(),A=Y(m),W=s(t(A),2),D=t(W);a(W),a(A);var C=s(A,2),M=t(C);M.__click=[Ke,se];var L=t(M),I=t(L),J=t(I,!0);a(I),a(L);var U=s(L,2),b=t(U,!0);a(U),de(2),a(M);var x=s(M,2);{var k=h=>{var w=Qe(),K=s(t(w),6);K.__click=i,a(w),d(h,w)};j(x,h=>{u(se)&&h(k)})}a(C),Z((h,w)=>{P(D,`€${h??""}`),P(J,w),P(b,v().name)},[()=>v().balance.toLocaleString(),()=>v().name.charAt(0).toUpperCase()]),d(o,m)},Me=o=>{var m=Ye();d(o,m)};j(ye,o=>{_()&&v()?o(Ae):o(Me,!1)})}a(q),a(V),a($),a(H);var je=s(H,2);{var He=o=>{var m=vt(),A=Y(m);A.__click=[et,n],A.__keydown=[tt,n];var W=s(A,2),D=t(W),C=t(D),M=t(C);M.__click=[at,n];var L=s(M,2);L.__click=[st,n],a(C);var I=s(C,2);{var J=b=>{var x=it(),k=t(x),h=t(k),w=t(h),K=t(w,!0);a(w),a(h);var oe=s(h,2),Q=t(oe),Ce=t(Q,!0);a(Q);var le=s(Q,2),Pe=t(le);a(le),a(oe),a(k);var ie=s(k,2),ne=t(ie);ne.__click=[rt,n];var ce=s(ne,2);ce.__click=[ot,n];var Re=s(ce,2);Re.__click=[lt,i,n],a(ie),a(x),Z(($e,Ve)=>{P(K,$e),P(Ce,v().name),P(Pe,`€${Ve??""}`)},[()=>v().name.charAt(0).toUpperCase(),()=>v().balance.toLocaleString()]),d(b,x)},U=b=>{var x=dt(),k=t(x);k.__click=[nt,n];var h=s(k,2);h.__click=[ct,n],a(x),d(b,x)};j(I,b=>{_()&&v()?b(J):b(U,!1)})}a(D),a(W),d(o,m)};j(je,o=>{u(n)&&o(He)})}d(c,g)};j(re,c=>{u(xe)&&c(ge)})}var z=s(re,2),be=t(z);Se(be,()=>e.children),a(z);var ke=s(z,2);{var we=c=>{var g=ht(),H=t(g),$=t(H),V=s($,2),y=s(V,2),T=s(y,2);a(H),a(g),Z((O,F,G,q)=>{B($,1,`flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 ${O??""}`),B(V,1,`flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 ${F??""}`),B(y,1,`flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 ${G??""}`),B(T,1,`flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 ${q??""}`)},[()=>S("/dashboard")?"text-lime-600":"text-slate-500 hover:text-slate-700",()=>S("/contests")?"text-lime-600":"text-slate-500 hover:text-slate-700",()=>S("/wallet")?"text-lime-600":"text-slate-500 hover:text-slate-700",()=>S("/profile")?"text-lime-600":"text-slate-500 hover:text-slate-700"]),d(c,g)};j(ke,c=>{u(ae)&&c(we)})}a(N),Z(()=>B(z,1,`min-h-screen bg-white text-slate-900 ${u(ae)?"pb-20":""}`)),d(r,N),De(),E()}ze(["click","keydown"]);export{Ht as component,jt as universal};
