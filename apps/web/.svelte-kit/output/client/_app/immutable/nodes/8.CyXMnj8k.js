import"../chunks/DsnmJJEf.js";import"../chunks/ChqFZlOs.js";import{o as ze}from"../chunks/DMB6SNds.js";import{p as xe,f as w,z as Be,aa as ce,aB as n,a as i,b as we,$ as Me,s as l,c as o,K as h,Z as k,g as a,r as d,n as K,aC as O,aG as ue,d as re,aH as qe,t as fe}from"../chunks/sn2bgj-Z.js";import{h as Ie,s as Ne}from"../chunks/Cs-2xr4_.js";import{i as q}from"../chunks/DJXJUQSZ.js";import{s as V,c as me}from"../chunks/BLn6UD4w.js";import{p as Re}from"../chunks/CdEA5IGF.js";import{i as be}from"../chunks/D3otL7Td.js";import{a as Se,s as je}from"../chunks/Bz204FB1.js";import{p as Ee}from"../chunks/6gNuyx6S.js";import{g as ve}from"../chunks/BKmK1l5b.js";import{c as pe,d as He}from"../chunks/9ek7rKyT.js";import{B as W}from"../chunks/BNRu-KHi.js";import{r as Te,a as Ue}from"../chunks/DMbMFB8t.js";import{b as Ae}from"../chunks/DzVJhIJV.js";import{b as c}from"../chunks/BPbz0Njt.js";import{l as he,p as s}from"../chunks/DylqDdvv.js";var Ke=w("<input/>");function ge(Y,t){const D=he(t,["children","$$slots","$$events","$$legacy"]),F=he(D,["class","value","placeholder","type","disabled","readonly","id","name","required","autofocus","autocomplete","maxlength","minlength","pattern","step","min","max"]);xe(t,!1);let I=s(t,"class",8,void 0),N=s(t,"value",12,void 0),u=s(t,"placeholder",8,void 0),b=s(t,"type",8,"text"),g=s(t,"disabled",8,void 0),P=s(t,"readonly",8,void 0),_=s(t,"id",8,void 0),L=s(t,"name",8,void 0),G=s(t,"required",8,void 0),R=s(t,"autofocus",8,void 0),S=s(t,"autocomplete",8,void 0),j=s(t,"maxlength",8,void 0),C=s(t,"minlength",8,void 0),E=s(t,"pattern",8,void 0),Z=s(t,"step",8,void 0),J=s(t,"min",8,void 0),Q=s(t,"max",8,void 0);be();var r=Ke();Te(r),Ue(r,e=>({placeholder:u(),type:b(),disabled:g(),readonly:P(),id:_(),name:L(),required:G(),autofocus:R(),autocomplete:S(),maxlength:j(),minlength:C(),pattern:E(),step:Z(),min:J(),max:Q(),class:e,...F}),[()=>(ce(pe),ce(I()),Be(()=>pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",I())))]),Ae(r,N),n("blur",r,function(e){c.call(this,t,e)}),n("change",r,function(e){c.call(this,t,e)}),n("click",r,function(e){c.call(this,t,e)}),n("focus",r,function(e){c.call(this,t,e)}),n("focusin",r,function(e){c.call(this,t,e)}),n("focusout",r,function(e){c.call(this,t,e)}),n("keydown",r,function(e){c.call(this,t,e)}),n("keypress",r,function(e){c.call(this,t,e)}),n("keyup",r,function(e){c.call(this,t,e)}),n("mouseover",r,function(e){c.call(this,t,e)}),n("mouseenter",r,function(e){c.call(this,t,e)}),n("mouseleave",r,function(e){c.call(this,t,e)}),n("paste",r,function(e){c.call(this,t,e)}),n("input",r,function(e){c.call(this,t,e)}),i(Y,r),we()}const Oe=!0,Ve=!1,ht=Object.freeze(Object.defineProperty({__proto__:null,prerender:Oe,ssr:Ve},Symbol.toStringTag,{value:"Module"}));var We=w('<meta name="description" content="Create a new password for your PicknWin account"/>'),Ye=w('<div class="text-center space-y-4"><div class="mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-red-600 dark:text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Invalid Reset Link</h2> <p class="text-slate-600 dark:text-slate-400 max-w-sm mx-auto">This password reset link is invalid or has expired. Please request a new one.</p> <div class="space-y-3"><!> <!></div></div>'),De=w('<div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3"><div class="flex items-center space-x-2"><svg class="w-4 h-4 text-red-600 dark:text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg> <p class="text-sm text-red-700 dark:text-red-300"> </p></div></div>'),Fe=qe('<svg class="animate-spin -ml-1 mr-3 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Updating Password...',1),Ge=w('<div class="text-center"><h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-2">Create New Password</h2> <p class="text-slate-600 dark:text-slate-400">Enter a strong password for your account</p></div> <form class="space-y-4"><div class="space-y-2"><label for="password" class="text-sm font-medium text-slate-700 dark:text-slate-300">New Password</label> <!></div> <div class="space-y-2"><label for="confirmPassword" class="text-sm font-medium text-slate-700 dark:text-slate-300">Confirm New Password</label> <!></div> <div class="bg-slate-50 dark:bg-slate-800 rounded-lg p-4"><h4 class="text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Password Requirements:</h4> <ul class="text-sm text-slate-600 dark:text-slate-400 space-y-1"><li class="flex items-center space-x-2"><div></div> <span>At least 6 characters</span></li> <li class="flex items-center space-x-2"><div></div> <span>Passwords match</span></li></ul></div> <!> <!></form>',1),Ze=w('<div class="text-center space-y-4"><div class="mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div> <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Password Updated!</h2> <p class="text-slate-600 dark:text-slate-400 max-w-sm mx-auto">Your password has been successfully updated. You can now sign in with your new password.</p> <!></div>'),Je=w('<div class="text-center"><a href="/auth/login" class="inline-flex items-center text-sm text-slate-500 hover:text-primary-600 dark:text-slate-400 dark:hover:text-primary-400 transition-colors"><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg> Back to Sign In</a></div>'),Qe=w('<div class="space-y-6"><!> <!></div>');function gt(Y,t){xe(t,!1);const D=()=>je(Ee,"$page",F),[F,I]=Se();let N="",u=k(""),b=k(""),g=k(!1),P=k(!1),_=k(""),L=k(!0);ze(()=>{N=D().url.searchParams.get("token")||"",N||(h(L,!1),h(_,"Invalid or missing reset token"))});function G(){return a(u)?a(u).length<6?"Password must be at least 6 characters long":a(u)!==a(b)?"Passwords do not match":null:"Please enter a new password"}async function R(){const e=G();if(e){h(_,e);return}h(_,""),h(g,!0),await He(1500),h(g,!1),h(P,!0)}function S(e){e.key==="Enter"&&R()}function j(){ve("/auth/login")}be();var C=Qe();Ie(e=>{var f=We();Me.title="Reset Password - PicknWin",i(e,f)});var E=o(C);{var Z=e=>{var f=Ye(),H=l(o(f),6),T=o(H);W(T,{class:"neumorphic-button bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white",$$events:{click:()=>ve("/auth/forgot")},children:(m,x)=>{K();var v=O("Request New Reset Link");i(m,v)},$$slots:{default:!0}});var X=l(T,2);W(X,{variant:"outline",class:"neumorphic-button-outline",$$events:{click:j},children:(m,x)=>{K();var v=O("Back to Sign In");i(m,v)},$$slots:{default:!0}}),d(H),d(f),i(e,f)},J=e=>{var f=ue(),H=re(f);{var T=m=>{var x=Ge(),v=l(re(x),2),z=o(v),se=l(o(z),2);ge(se,{id:"password",type:"password",placeholder:"Enter new password (min. 6 characters)",get disabled(){return a(g)},class:"neumorphic-input",get value(){return a(u)},set value(p){h(u,p)},$$events:{keypress:S},$$legacy:!0}),d(z);var B=l(z,2),_e=l(o(B),2);ge(_e,{id:"confirmPassword",type:"password",placeholder:"Confirm your new password",get disabled(){return a(g)},class:"neumorphic-input",get value(){return a(b)},set value(p){h(b,p)},$$events:{keypress:S},$$legacy:!0}),d(B);var $=l(B,2),le=l(o($),2),ee=o(le),ne=o(ee),ye=l(ne,2);d(ee);var ie=l(ee,2),oe=o(ie),ke=l(oe,2);d(ie),d(le),d($);var de=l($,2);{var Pe=p=>{var U=De(),M=o(U),A=l(o(M),2),te=o(A,!0);d(A),d(M),d(U),fe(()=>Ne(te,a(_))),i(p,U)};q(de,p=>{a(_)&&p(Pe)})}var Le=l(de,2);W(Le,{type:"submit",get disabled(){return a(g)},class:"w-full neumorphic-button bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-medium py-3 transition-all duration-200",children:(p,U)=>{var M=ue(),A=re(M);{var te=y=>{var ae=Fe();K(),i(y,ae)},Ce=y=>{var ae=O("Update Password");i(y,ae)};q(A,y=>{a(g)?y(te):y(Ce,!1)})}i(p,M)},$$slots:{default:!0}}),d(v),fe(()=>{V(ne,1,`w-1.5 h-1.5 rounded-full ${a(u).length>=6?"bg-green-500":"bg-slate-300 dark:bg-slate-600"}`),V(ye,1,me(a(u).length>=6?"text-green-600 dark:text-green-400":"")),V(oe,1,`w-1.5 h-1.5 rounded-full ${a(u)===a(b)&&a(u)?"bg-green-500":"bg-slate-300 dark:bg-slate-600"}`),V(ke,1,me(a(u)===a(b)&&a(u)?"text-green-600 dark:text-green-400":""))}),n("submit",v,Re(R)),i(m,x)},X=m=>{var x=Ze(),v=l(o(x),6);W(v,{class:"neumorphic-button bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white",$$events:{click:j},children:(z,se)=>{K();var B=O("Sign In Now");i(z,B)},$$slots:{default:!0}}),d(x),i(m,x)};q(H,m=>{a(P)?m(X,!1):m(T)},!0)}i(e,f)};q(E,e=>{a(L)?e(J,!1):e(Z)})}var Q=l(E,2);{var r=e=>{var f=Je();i(e,f)};q(Q,e=>{a(L)&&!a(P)&&e(r)})}d(C),i(Y,C),we(),I()}export{gt as component,ht as universal};
