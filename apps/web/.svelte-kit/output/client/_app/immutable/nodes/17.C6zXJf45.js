import"../chunks/DsnmJJEf.js";import"../chunks/69_IOA4Y.js";import{o as ze}from"../chunks/d-9Q_JcI.js";import{p as xe,f as w,k as Be,ae as ce,o as n,a as i,b as we,h as Me,$ as qe,s as l,c as o,j as p,m as k,g as a,r as d,n as V,y as W,v as ue,d as re,x as Ie,t as ve,e as Ne}from"../chunks/CC47Dqnt.js";import{i as q}from"../chunks/3oX9xRnt.js";import{s as Y,c as fe}from"../chunks/CC5kzxMM.js";import{p as Re}from"../chunks/CdEA5IGF.js";import{i as be}from"../chunks/6Z2O6PQy.js";import{a as Ee,s as Se}from"../chunks/DLEGmHds.js";import{p as je}from"../chunks/ICb-5blB.js";import{g as me}from"../chunks/CHmzRBH6.js";import{c as he,d as He}from"../chunks/9ek7rKyT.js";import{B as D}from"../chunks/Er5ah5RK.js";import{r as Te,g as Ue,b as Ae}from"../chunks/BmFDec73.js";import{b as c}from"../chunks/DDDij7Xt.js";import{l as pe,p as s}from"../chunks/CAA_fk_i.js";var Ve=w("<input/>");function ge(F,t){const K=pe(t,["children","$$slots","$$events","$$legacy"]),G=pe(K,["class","value","placeholder","type","disabled","readonly","id","name","required","autofocus","autocomplete","maxlength","minlength","pattern","step","min","max"]);xe(t,!1);let I=s(t,"class",8,void 0),N=s(t,"value",12,void 0),u=s(t,"placeholder",8,void 0),b=s(t,"type",8,"text"),g=s(t,"disabled",8,void 0),P=s(t,"readonly",8,void 0),y=s(t,"id",8,void 0),L=s(t,"name",8,void 0),J=s(t,"required",8,void 0),R=s(t,"autofocus",8,void 0),E=s(t,"autocomplete",8,void 0),S=s(t,"maxlength",8,void 0),C=s(t,"minlength",8,void 0),j=s(t,"pattern",8,void 0),O=s(t,"step",8,void 0),Q=s(t,"min",8,void 0),X=s(t,"max",8,void 0);be();var r=Ve();Te(r),Ue(r,e=>({placeholder:u(),type:b(),disabled:g(),readonly:P(),id:y(),name:L(),required:J(),autofocus:R(),autocomplete:E(),maxlength:S(),minlength:C(),pattern:j(),step:O(),min:Q(),max:X(),class:e,...G}),[()=>(ce(he),ce(I()),Be(()=>he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",I())))]),Ae(r,N),n("blur",r,function(e){c.call(this,t,e)}),n("change",r,function(e){c.call(this,t,e)}),n("click",r,function(e){c.call(this,t,e)}),n("focus",r,function(e){c.call(this,t,e)}),n("focusin",r,function(e){c.call(this,t,e)}),n("focusout",r,function(e){c.call(this,t,e)}),n("keydown",r,function(e){c.call(this,t,e)}),n("keypress",r,function(e){c.call(this,t,e)}),n("keyup",r,function(e){c.call(this,t,e)}),n("mouseover",r,function(e){c.call(this,t,e)}),n("mouseenter",r,function(e){c.call(this,t,e)}),n("mouseleave",r,function(e){c.call(this,t,e)}),n("paste",r,function(e){c.call(this,t,e)}),n("input",r,function(e){c.call(this,t,e)}),i(F,r),we()}var We=w('<meta name="description" content="Create a new password for your PicknWin account"/>'),Ye=w('<div class="text-center space-y-4"><div class="mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-red-600 dark:text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Invalid Reset Link</h2> <p class="text-slate-600 dark:text-slate-400 max-w-sm mx-auto">This password reset link is invalid or has expired. Please request a new one.</p> <div class="space-y-3"><!> <!></div></div>'),De=w('<div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3"><div class="flex items-center space-x-2"><svg class="w-4 h-4 text-red-600 dark:text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg> <p class="text-sm text-red-700 dark:text-red-300"> </p></div></div>'),Fe=Ie('<svg class="animate-spin -ml-1 mr-3 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Updating Password...',1),Ke=w('<div class="text-center"><h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-2">Create New Password</h2> <p class="text-slate-600 dark:text-slate-400">Enter a strong password for your account</p></div> <form class="space-y-4"><div class="space-y-2"><label for="password" class="text-sm font-medium text-slate-700 dark:text-slate-300">New Password</label> <!></div> <div class="space-y-2"><label for="confirmPassword" class="text-sm font-medium text-slate-700 dark:text-slate-300">Confirm New Password</label> <!></div> <div class="bg-slate-50 dark:bg-slate-800 rounded-lg p-4"><h4 class="text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Password Requirements:</h4> <ul class="text-sm text-slate-600 dark:text-slate-400 space-y-1"><li class="flex items-center space-x-2"><div></div> <span>At least 6 characters</span></li> <li class="flex items-center space-x-2"><div></div> <span>Passwords match</span></li></ul></div> <!> <!></form>',1),Ge=w('<div class="text-center space-y-4"><div class="mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div> <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Password Updated!</h2> <p class="text-slate-600 dark:text-slate-400 max-w-sm mx-auto">Your password has been successfully updated. You can now sign in with your new password.</p> <!></div>'),Je=w('<div class="text-center"><a href="/auth/login" class="inline-flex items-center text-sm text-slate-500 hover:text-primary-600 dark:text-slate-400 dark:hover:text-primary-400 transition-colors"><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg> Back to Sign In</a></div>'),Oe=w('<div class="space-y-6"><!> <!></div>');function vt(F,t){xe(t,!1);const K=()=>Se(je,"$page",G),[G,I]=Ee();let N="",u=k(""),b=k(""),g=k(!1),P=k(!1),y=k(""),L=k(!0);ze(()=>{N=K().url.searchParams.get("token")||"",N||(p(L,!1),p(y,"Invalid or missing reset token"))});function J(){return a(u)?a(u).length<6?"Password must be at least 6 characters long":a(u)!==a(b)?"Passwords do not match":null:"Please enter a new password"}async function R(){const e=J();if(e){p(y,e);return}p(y,""),p(g,!0),await He(1500),p(g,!1),p(P,!0)}function E(e){e.key==="Enter"&&R()}function S(){me("/auth/login")}be();var C=Oe();Me(e=>{var v=We();qe.title="Reset Password - PicknWin",i(e,v)});var j=o(C);{var O=e=>{var v=Ye(),H=l(o(v),6),T=o(H);D(T,{class:"neumorphic-button bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white",$$events:{click:()=>me("/auth/forgot")},children:(f,x)=>{V();var m=W("Request New Reset Link");i(f,m)},$$slots:{default:!0}});var Z=l(T,2);D(Z,{variant:"outline",class:"neumorphic-button-outline",$$events:{click:S},children:(f,x)=>{V();var m=W("Back to Sign In");i(f,m)},$$slots:{default:!0}}),d(H),d(v),i(e,v)},Q=e=>{var v=ue(),H=re(v);{var T=f=>{var x=Ke(),m=l(re(x),2),z=o(m),se=l(o(z),2);ge(se,{id:"password",type:"password",placeholder:"Enter new password (min. 6 characters)",get disabled(){return a(g)},class:"neumorphic-input",get value(){return a(u)},set value(h){p(u,h)},$$events:{keypress:E},$$legacy:!0}),d(z);var B=l(z,2),ye=l(o(B),2);ge(ye,{id:"confirmPassword",type:"password",placeholder:"Confirm your new password",get disabled(){return a(g)},class:"neumorphic-input",get value(){return a(b)},set value(h){p(b,h)},$$events:{keypress:E},$$legacy:!0}),d(B);var $=l(B,2),le=l(o($),2),ee=o(le),ne=o(ee),_e=l(ne,2);d(ee);var ie=l(ee,2),oe=o(ie),ke=l(oe,2);d(ie),d(le),d($);var de=l($,2);{var Pe=h=>{var U=De(),M=o(U),A=l(o(M),2),te=o(A,!0);d(A),d(M),d(U),ve(()=>Ne(te,a(y))),i(h,U)};q(de,h=>{a(y)&&h(Pe)})}var Le=l(de,2);D(Le,{type:"submit",get disabled(){return a(g)},class:"w-full neumorphic-button bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-medium py-3 transition-all duration-200",children:(h,U)=>{var M=ue(),A=re(M);{var te=_=>{var ae=Fe();V(),i(_,ae)},Ce=_=>{var ae=W("Update Password");i(_,ae)};q(A,_=>{a(g)?_(te):_(Ce,!1)})}i(h,M)},$$slots:{default:!0}}),d(m),ve(()=>{Y(ne,1,`w-1.5 h-1.5 rounded-full ${a(u).length>=6?"bg-green-500":"bg-slate-300 dark:bg-slate-600"}`),Y(_e,1,fe(a(u).length>=6?"text-green-600 dark:text-green-400":"")),Y(oe,1,`w-1.5 h-1.5 rounded-full ${a(u)===a(b)&&a(u)?"bg-green-500":"bg-slate-300 dark:bg-slate-600"}`),Y(ke,1,fe(a(u)===a(b)&&a(u)?"text-green-600 dark:text-green-400":""))}),n("submit",m,Re(R)),i(f,x)},Z=f=>{var x=Ge(),m=l(o(x),6);D(m,{class:"neumorphic-button bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white",$$events:{click:S},children:(z,se)=>{V();var B=W("Sign In Now");i(z,B)},$$slots:{default:!0}}),d(x),i(f,x)};q(H,f=>{a(P)?f(Z,!1):f(T)},!0)}i(e,v)};q(j,e=>{a(L)?e(Q,!1):e(O)})}var X=l(j,2);{var r=e=>{var v=Je();i(e,v)};q(X,e=>{a(L)&&!a(P)&&e(r)})}d(C),i(F,C),we(),I()}export{vt as component};
