import"../chunks/DsnmJJEf.js";import"../chunks/69_IOA4Y.js";import{o as Nt}from"../chunks/d-9Q_JcI.js";import{p as Rt,l as Tt,i as Et,f as u,h as Lt,t as A,a as g,b as Ft,$ as Pt,s as d,c as e,j as $,m as S,r as t,n as Vt,g as a,k as l,e as n,o as Gt}from"../chunks/CC47Dqnt.js";import{i as R}from"../chunks/3oX9xRnt.js";import{e as T,i as E}from"../chunks/Bar9hDmN.js";import{s as Ht}from"../chunks/CC5kzxMM.js";import{i as Qt}from"../chunks/6Z2O6PQy.js";import{a as Wt,s as jt}from"../chunks/DLEGmHds.js";import{A as nt}from"../chunks/BKS5pudM.js";import{a as qt}from"../chunks/uE9PL26s.js";import{g as k}from"../chunks/D9h6ojiU.js";var Jt=u('<div class="bg-white p-6 rounded-lg shadow animate-pulse"><div class="h-4 bg-gray-200 rounded w-3/4 mb-2"></div> <div class="h-8 bg-gray-200 rounded w-1/2"></div></div>'),Kt=u('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6"></div>'),zt=u('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6"><div class="bg-white p-6 rounded-lg shadow"><div class="flex items-center"><div class="p-2 bg-green-100 rounded-lg"><span class="text-2xl">üèÜ</span></div> <div class="ml-4"><p class="text-sm font-medium text-gray-600">Active Contests</p> <p class="text-2xl font-bold text-gray-900"> </p></div></div></div> <div class="bg-white p-6 rounded-lg shadow"><div class="flex items-center"><div class="p-2 bg-blue-100 rounded-lg"><span class="text-2xl">üéØ</span></div> <div class="ml-4"><p class="text-sm font-medium text-gray-600">Total Entries</p> <p class="text-2xl font-bold text-gray-900"> </p></div></div></div> <div class="bg-white p-6 rounded-lg shadow"><div class="flex items-center"><div class="p-2 bg-purple-100 rounded-lg"><span class="text-2xl">üí∞</span></div> <div class="ml-4"><p class="text-sm font-medium text-gray-600">GGR</p> <p class="text-2xl font-bold text-gray-900"> </p></div></div></div> <div class="bg-white p-6 rounded-lg shadow"><div class="flex items-center"><div class="p-2 bg-orange-100 rounded-lg"><span class="text-2xl">üí∏</span></div> <div class="ml-4"><p class="text-sm font-medium text-gray-600">Payouts</p> <p class="text-2xl font-bold text-gray-900"> </p></div></div></div> <div class="bg-white p-6 rounded-lg shadow"><div class="flex items-center"><div class="p-2 bg-indigo-100 rounded-lg"><span class="text-2xl">üë•</span></div> <div class="ml-4"><p class="text-sm font-medium text-gray-600">Active Users</p> <p class="text-2xl font-bold text-gray-900"> </p></div></div></div></div>'),Bt=u('<button class="w-full flex items-center p-3 text-left rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors"><span class="text-2xl mr-3"> </span> <div><p class="font-medium text-gray-900"> </p> <p class="text-sm text-gray-500"> </p></div></button>'),Ot=u('<span class="text-gray-500"> </span>'),Xt=u('<div class="flex items-start space-x-3"><div class="w-2 h-2 bg-blue-600 rounded-full mt-2"></div> <div class="flex-1 min-w-0"><p class="text-sm text-gray-900"><span class="font-medium"> </span> <!></p> <p class="text-xs text-gray-500"> </p></div></div>'),Yt=u('<div class="space-y-4"></div>'),Zt=u('<p class="text-gray-500 text-center py-4">No recent activity</p>'),te=u('<div class="flex items-start space-x-3"><div></div> <div class="flex-1 min-w-0"><p class="text-sm text-gray-900"> </p> <p class="text-xs text-gray-500"> </p></div></div>'),ee=u('<div class="space-y-4"></div>'),ae=u('<p class="text-gray-500 text-center py-4">No active incidents</p>'),se=u(`<div class="space-y-6"><div class="bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-6 text-white"><h1 class="text-2xl font-bold mb-2"> </h1> <p class="text-blue-100">Here's what's happening with your platform today.</p></div> <!> <div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-1"><div class="bg-white rounded-lg shadow"><div class="p-6 border-b border-gray-200"><h3 class="text-lg font-medium text-gray-900">Quick Actions</h3></div> <div class="p-6 space-y-4"></div></div></div> <div class="lg:col-span-1"><div class="bg-white rounded-lg shadow"><div class="p-6 border-b border-gray-200"><h3 class="text-lg font-medium text-gray-900">Recent Activity</h3></div> <div class="p-6"><!></div></div></div> <div class="lg:col-span-1"><div class="bg-white rounded-lg shadow"><div class="p-6 border-b border-gray-200"><h3 class="text-lg font-medium text-gray-900">Live Incidents</h3></div> <div class="p-6"><!></div></div></div></div></div>`);function xe(ct,pt){Rt(pt,!1);const C=()=>jt(qt,"$adminAuthStore",mt),[mt,gt]=Wt(),W=S();let x=S({activeContests:0,totalEntries:0,ggr:0,payouts:0,activeUsers:0}),L=S(!0),U=S([]),M=S([]);function ut(s){return[{title:"Create Contest",description:"Set up a new contest",icon:"üèÜ",action:()=>k("/admin/contests/new"),roles:["superadmin","admin","moderator"]},{title:"Add Match",description:"Create a new match",icon:"‚öΩ",action:()=>k("/admin/matches/new"),roles:["superadmin","admin","moderator"]},{title:"Manage Users",description:"View and manage users",icon:"üë•",action:()=>k("/admin/users"),roles:["superadmin","admin","moderator","viewer"]},{title:"Wallet Transactions",description:"Process wallet operations",icon:"üí∞",action:()=>k("/admin/wallet"),roles:["superadmin","admin"]},{title:"View Reports",description:"Analytics and insights",icon:"üìà",action:()=>k("/admin/reports"),roles:["superadmin","admin","moderator","viewer"]},{title:"System Settings",description:"Configure system settings",icon:"‚öôÔ∏è",action:()=>k("/admin/settings"),roles:["superadmin"]}].filter(o=>!s||o.roles.includes(s))}async function j(){try{$(L,!0);const s=await nt.getDashboardKPIs();s.success&&s.data&&$(x,s.data);const r=await nt.getAuditLogs({limit:5});r.success&&r.data&&$(U,r.data.logs),$(M,[{id:1,type:"warning",message:"High contest fill rate detected",timestamp:new Date(Date.now()-300*1e3)},{id:2,type:"info",message:"Lineup available for MUN vs LIV",timestamp:new Date(Date.now()-900*1e3)}])}catch(s){console.error("Failed to load dashboard data:",s)}finally{$(L,!1)}}function q(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(s)}function F(s){return new Intl.NumberFormat("en-US").format(s)}function J(s){const o=new Date().getTime()-s.getTime(),i=Math.floor(o/(1e3*60)),v=Math.floor(o/(1e3*60*60)),c=Math.floor(o/(1e3*60*60*24));return i<1?"Just now":i<60?`${i}m ago`:v<24?`${v}h ago`:`${c}d ago`}Nt(()=>{j();const s=setInterval(j,3e4);return()=>clearInterval(s)}),Tt(()=>C(),()=>{$(W,ut(C().session?.user.role))}),Et(),Qt();var P=se();Lt(s=>{Pt.title="Dashboard - Dream11 Admin"});var V=e(P),K=e(V),xt=e(K);t(K),Vt(2),t(V);var z=d(V,2);{var _t=s=>{var r=Kt();T(r,4,()=>Array(5),E,(o,i)=>{var v=Jt();g(o,v)}),t(r),g(s,r)},ft=s=>{var r=zt(),o=e(r),i=e(o),v=d(e(i),2),c=d(e(v),2),m=e(c,!0);t(c),t(v),t(i),t(o);var p=d(o,2),f=e(p),_=d(e(f),2),h=d(e(_),2),D=e(h,!0);t(h),t(_),t(f),t(p);var w=d(p,2),N=e(w),b=d(e(N),2),y=d(e(b),2),Q=e(y,!0);t(y),t(b),t(N),t(w);var I=d(w,2),st=e(I),rt=d(e(st),2),it=d(e(rt),2),kt=e(it,!0);t(it),t(rt),t(st),t(I);var dt=d(I,2),ot=e(dt),lt=d(e(ot),2),vt=d(e(lt),2),Dt=e(vt,!0);t(vt),t(lt),t(ot),t(dt),t(r),A((It,St,Ct,Ut,Mt)=>{n(m,It),n(D,St),n(Q,Ct),n(kt,Ut),n(Dt,Mt)},[()=>(a(x),l(()=>F(a(x).activeContests))),()=>(a(x),l(()=>F(a(x).totalEntries))),()=>(a(x),l(()=>q(a(x).ggr))),()=>(a(x),l(()=>q(a(x).payouts))),()=>(a(x),l(()=>F(a(x).activeUsers)))]),g(s,r)};R(z,s=>{a(L)?s(_t):s(ft,!1)})}var B=d(z,2),G=e(B),O=e(G),X=d(e(O),2);T(X,5,()=>a(W),E,(s,r)=>{var o=Bt(),i=e(o),v=e(i,!0);t(i);var c=d(i,2),m=e(c),p=e(m,!0);t(m);var f=d(m,2),_=e(f,!0);t(f),t(c),t(o),A(()=>{n(v,(a(r),l(()=>a(r).icon))),n(p,(a(r),l(()=>a(r).title))),n(_,(a(r),l(()=>a(r).description)))}),Gt("click",o,function(...h){a(r).action?.apply(this,h)}),g(s,o)}),t(X),t(O),t(G);var H=d(G,2),Y=e(H),Z=d(e(Y),2),ht=e(Z);{var bt=s=>{var r=Yt();T(r,5,()=>a(U),E,(o,i)=>{var v=Xt(),c=d(e(v),2),m=e(c),p=e(m),f=e(p,!0);t(p);var _=d(p),h=d(_);{var D=b=>{var y=Ot(),Q=e(y);t(y),A(I=>n(Q,`#${I??""}`),[()=>(a(i),l(()=>a(i).resourceId.slice(-6)))]),g(b,y)};R(h,b=>{a(i),l(()=>a(i).resourceId)&&b(D)})}t(m);var w=d(m,2),N=e(w,!0);t(w),t(c),t(v),A(b=>{n(f,(a(i),l(()=>a(i).adminName))),n(_,` ${a(i),l(()=>a(i).action)??""} ${a(i),l(()=>a(i).resource)??""} `),n(N,b)},[()=>(a(i),l(()=>J(a(i).timestamp)))]),g(o,v)}),t(r),g(s,r)},wt=s=>{var r=Zt();g(s,r)};R(ht,s=>{a(U),l(()=>a(U).length>0)?s(bt):s(wt,!1)})}t(Z),t(Y),t(H);var tt=d(H,2),et=e(tt),at=d(e(et),2),yt=e(at);{var At=s=>{var r=ee();T(r,5,()=>a(M),E,(o,i)=>{var v=te(),c=e(v),m=d(c,2),p=e(m),f=e(p,!0);t(p);var _=d(p,2),h=e(_,!0);t(_),t(m),t(v),A(D=>{Ht(c,1,`w-2 h-2 rounded-full mt-2 ${a(i),l(()=>a(i).type==="warning"?"bg-yellow-500":"bg-blue-500")??""}`),n(f,(a(i),l(()=>a(i).message))),n(h,D)},[()=>(a(i),l(()=>J(a(i).timestamp)))]),g(o,v)}),t(r),g(s,r)},$t=s=>{var r=ae();g(s,r)};R(yt,s=>{a(M),l(()=>a(M).length>0)?s(At):s($t,!1)})}t(at),t(et),t(tt),t(B),t(P),A(()=>n(xt,`Welcome back, ${C(),l(()=>C().session?.user.name||"Admin")??""}!`)),g(ct,P),Ft(),gt()}export{xe as component};
