import"../chunks/DsnmJJEf.js";import{i as xe}from"../chunks/6GZusgt_.js";import{o as we}from"../chunks/8x6lrutn.js";import{p as be,g as r,Z as _,f as x,z as Be,aF as ce,K as m,av as n,a as i,b as _e,$ as Me,s as l,c as o,r as d,n as F,aw as K,aA as ue,d as re,aB as qe,t as fe}from"../chunks/BxP-Bn-J.js";import{h as Ie,s as Ne}from"../chunks/52Mq0XaK.js";import{i as q}from"../chunks/CHs-BGr5.js";import{s as O,a as me}from"../chunks/B3R9TjWp.js";import{p as Re}from"../chunks/CdEA5IGF.js";import{a as Se,s as Ee}from"../chunks/gfEskGUc.js";import{p as je}from"../chunks/CQTugc1a.js";import{g as ve}from"../chunks/H-dD8ZBy.js";import{c as pe,d as Te}from"../chunks/DVvRPRmo.js";import{B as V}from"../chunks/D8QE-3bL.js";import{a as Ae}from"../chunks/hoSVDtOQ.js";import{b as He}from"../chunks/DbKgpfrA.js";import{b as Ue}from"../chunks/0bMpCBIS.js";import{b as c}from"../chunks/C_aAuIeA.js";import{l as he,p as s}from"../chunks/J8J4SVFF.js";const Fe=!0,Ke=!1,ht=Object.freeze(Object.defineProperty({__proto__:null,prerender:Fe,ssr:Ke},Symbol.toStringTag,{value:"Module"}));var Oe=x("<input/>");function ge(W,a){const Y=he(a,["children","$$slots","$$events","$$legacy"]),D=he(Y,["class","value","placeholder","type","disabled","readonly","id","name","required","autofocus","autocomplete","maxlength","minlength","pattern","step","min","max"]);be(a,!1);let I=s(a,"class",8,void 0),N=s(a,"value",12,void 0),u=s(a,"placeholder",8,void 0),w=s(a,"type",8,"text"),h=s(a,"disabled",8,void 0),P=s(a,"readonly",8,void 0),b=s(a,"id",8,void 0),L=s(a,"name",8,void 0),Z=s(a,"required",8,void 0),R=s(a,"autofocus",8,void 0),S=s(a,"autocomplete",8,void 0),E=s(a,"maxlength",8,void 0),z=s(a,"minlength",8,void 0),j=s(a,"pattern",8,void 0),G=s(a,"step",8,void 0),J=s(a,"min",8,void 0),Q=s(a,"max",8,void 0),y=_();we(()=>{R()&&r(y)&&r(y).focus()}),xe();var t=Oe();Ae(t,e=>({placeholder:u(),type:w(),disabled:h(),readonly:P(),id:b(),name:L(),required:Z(),autocomplete:S(),maxlength:E(),minlength:z(),pattern:j(),step:G(),min:J(),max:Q(),class:e,...D}),[()=>(ce(pe),ce(I()),Be(()=>pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",I())))],void 0,void 0,!0),Ue(t,e=>m(y,e),()=>r(y)),He(t,N),n("blur",t,function(e){c.call(this,a,e)}),n("change",t,function(e){c.call(this,a,e)}),n("click",t,function(e){c.call(this,a,e)}),n("focus",t,function(e){c.call(this,a,e)}),n("focusin",t,function(e){c.call(this,a,e)}),n("focusout",t,function(e){c.call(this,a,e)}),n("keydown",t,function(e){c.call(this,a,e)}),n("keypress",t,function(e){c.call(this,a,e)}),n("keyup",t,function(e){c.call(this,a,e)}),n("mouseover",t,function(e){c.call(this,a,e)}),n("mouseenter",t,function(e){c.call(this,a,e)}),n("mouseleave",t,function(e){c.call(this,a,e)}),n("paste",t,function(e){c.call(this,a,e)}),n("input",t,function(e){c.call(this,a,e)}),i(W,t),_e()}var Ve=x('<meta name="description" content="Create a new password for your PicknWin account"/>'),We=x('<div class="text-center space-y-4"><div class="mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-red-600 dark:text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Invalid Reset Link</h2> <p class="text-slate-600 dark:text-slate-400 max-w-sm mx-auto">This password reset link is invalid or has expired. Please request a new one.</p> <div class="space-y-3"><!> <!></div></div>'),Ye=x('<div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3"><div class="flex items-center space-x-2"><svg class="w-4 h-4 text-red-600 dark:text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg> <p class="text-sm text-red-700 dark:text-red-300"> </p></div></div>'),De=qe('<svg class="animate-spin -ml-1 mr-3 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Updating Password...',1),Ze=x('<div class="text-center"><h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-2">Create New Password</h2> <p class="text-slate-600 dark:text-slate-400">Enter a strong password for your account</p></div> <form class="space-y-4"><div class="space-y-2"><label for="password" class="text-sm font-medium text-slate-700 dark:text-slate-300">New Password</label> <!></div> <div class="space-y-2"><label for="confirmPassword" class="text-sm font-medium text-slate-700 dark:text-slate-300">Confirm New Password</label> <!></div> <div class="bg-slate-50 dark:bg-slate-800 rounded-lg p-4"><h4 class="text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Password Requirements:</h4> <ul class="text-sm text-slate-600 dark:text-slate-400 space-y-1"><li class="flex items-center space-x-2"><div></div> <span>At least 6 characters</span></li> <li class="flex items-center space-x-2"><div></div> <span>Passwords match</span></li></ul></div> <!> <!></form>',1),Ge=x('<div class="text-center space-y-4"><div class="mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div> <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Password Updated!</h2> <p class="text-slate-600 dark:text-slate-400 max-w-sm mx-auto">Your password has been successfully updated. You can now sign in with your new password.</p> <!></div>'),Je=x('<div class="text-center"><a href="/auth/login" class="inline-flex items-center text-sm text-slate-500 hover:text-primary-600 dark:text-slate-400 dark:hover:text-primary-400 transition-colors"><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg> Back to Sign In</a></div>'),Qe=x('<div class="space-y-6"><!> <!></div>');function gt(W,a){be(a,!1);const Y=()=>Ee(je,"$page",D),[D,I]=Se();let N="",u=_(""),w=_(""),h=_(!1),P=_(!1),b=_(""),L=_(!0);we(()=>{N=Y().url.searchParams.get("token")||"",N||(m(L,!1),m(b,"Invalid or missing reset token"))});function Z(){return r(u)?r(u).length<6?"Password must be at least 6 characters long":r(u)!==r(w)?"Passwords do not match":null:"Please enter a new password"}async function R(){const t=Z();if(t){m(b,t);return}m(b,""),m(h,!0),await Te(1500),m(h,!1),m(P,!0)}function S(t){t.key==="Enter"&&R()}function E(){ve("/auth/login")}xe();var z=Qe();Ie(t=>{var e=Ve();Me.title="Reset Password - PicknWin",i(t,e)});var j=o(z);{var G=t=>{var e=We(),T=l(o(e),6),A=o(T);V(A,{class:"neumorphic-button bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white",$$events:{click:()=>ve("/auth/forgot")},children:(f,g)=>{F();var v=K("Request New Reset Link");i(f,v)},$$slots:{default:!0}});var X=l(A,2);V(X,{variant:"outline",class:"neumorphic-button-outline",$$events:{click:E},children:(f,g)=>{F();var v=K("Back to Sign In");i(f,v)},$$slots:{default:!0}}),d(T),d(e),i(t,e)},J=t=>{var e=ue(),T=re(e);{var A=f=>{var g=Ze(),v=l(re(g),2),C=o(v),se=l(o(C),2);ge(se,{id:"password",type:"password",placeholder:"Enter new password (min. 6 characters)",get disabled(){return r(h)},class:"neumorphic-input",get value(){return r(u)},set value(p){m(u,p)},$$events:{keypress:S},$$legacy:!0}),d(C);var B=l(C,2),ye=l(o(B),2);ge(ye,{id:"confirmPassword",type:"password",placeholder:"Confirm your new password",get disabled(){return r(h)},class:"neumorphic-input",get value(){return r(w)},set value(p){m(w,p)},$$events:{keypress:S},$$legacy:!0}),d(B);var $=l(B,2),le=l(o($),2),ee=o(le),ne=o(ee),ke=l(ne,2);d(ee);var ie=l(ee,2),oe=o(ie),Pe=l(oe,2);d(ie),d(le),d($);var de=l($,2);{var Le=p=>{var H=Ye(),M=o(H),U=l(o(M),2),te=o(U,!0);d(U),d(M),d(H),fe(()=>Ne(te,r(b))),i(p,H)};q(de,p=>{r(b)&&p(Le)})}var ze=l(de,2);V(ze,{type:"submit",get disabled(){return r(h)},class:"w-full neumorphic-button bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-medium py-3 transition-all duration-200",children:(p,H)=>{var M=ue(),U=re(M);{var te=k=>{var ae=De();F(),i(k,ae)},Ce=k=>{var ae=K("Update Password");i(k,ae)};q(U,k=>{r(h)?k(te):k(Ce,!1)})}i(p,M)},$$slots:{default:!0}}),d(v),fe(()=>{O(ne,1,`w-1.5 h-1.5 rounded-full ${r(u).length>=6?"bg-green-500":"bg-slate-300 dark:bg-slate-600"}`),O(ke,1,me(r(u).length>=6?"text-green-600 dark:text-green-400":"")),O(oe,1,`w-1.5 h-1.5 rounded-full ${r(u)===r(w)&&r(u)?"bg-green-500":"bg-slate-300 dark:bg-slate-600"}`),O(Pe,1,me(r(u)===r(w)&&r(u)?"text-green-600 dark:text-green-400":""))}),n("submit",v,Re(R)),i(f,g)},X=f=>{var g=Ge(),v=l(o(g),6);V(v,{class:"neumorphic-button bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white",$$events:{click:E},children:(C,se)=>{F();var B=K("Sign In Now");i(C,B)},$$slots:{default:!0}}),d(g),i(f,g)};q(T,f=>{r(P)?f(X,!1):f(A)},!0)}i(t,e)};q(j,t=>{r(L)?t(J,!1):t(G)})}var Q=l(j,2);{var y=t=>{var e=Je();i(t,e)};q(Q,t=>{r(L)&&!r(P)&&t(y)})}d(z),i(W,z),_e(),I()}export{gt as component,ht as universal};
