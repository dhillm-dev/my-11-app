import{ag as F,az as B,an as K,aW as D,B as k,aX as O,a8 as W,Q as ae,aY as re,aZ as Z,a_ as se,g as te,a$ as ie,al as H,b0 as le,b1 as fe,D as ce,b2 as ue,b3 as oe,aF as ve,b4 as ne,b5 as de,b6 as _e,b7 as he,b8 as be,b9 as ye,ba as ke,aT as ge,k as G,bb as U,ar as w,bc as Ae,ay as R}from"./CC47Dqnt.js";import{t as Se,c as we,s as Ee}from"./CC5kzxMM.js";function Te(e,r){var a=void 0,s;F(()=>{a!==(a=r())&&(s&&(B(s),s=null),a&&(s=K(()=>{D(()=>a(e))})))})}function q(e,r={},a,s){for(var t in a){var i=a[t];r[t]!==i&&(a[t]==null?e.style.removeProperty(t):e.style.setProperty(t,i,s))}}function Ne(e,r,a,s){var t=e.__style;if(k||t!==r){var i=Se(r,s);(!k||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=r}else s&&(Array.isArray(s)?(q(e,a?.[0],s[0]),q(e,a?.[1],s[1],"important")):q(e,a,s));return s}function L(e,r,a=!1){if(e.multiple){if(r==null)return;if(!ae(r))return re();for(var s of e.options)s.selected=r.includes(N(s));return}for(s of e.options){var t=N(s);if(Z(t,r)){s.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function Q(e){var r=new MutationObserver(()=>{L(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),W(()=>{r.disconnect()})}function Me(e,r,a=r){var s=!0;O(e,"change",t=>{var i=t?"[selected]":":checked",f;if(e.multiple)f=[].map.call(e.querySelectorAll(i),N);else{var o=e.querySelector(i)??e.querySelector("option:not([disabled])");f=o&&N(o)}a(f)}),D(()=>{var t=r();if(L(e,t,s),s&&t===void 0){var i=e.querySelector(":checked");i!==null&&(t=N(i),a(t))}e.__value=t,s=!1}),Q(e)}function N(e){return"__value"in e?e.__value:e.value}const E=Symbol("class"),T=Symbol("style"),X=Symbol("is custom element"),J=Symbol("is html");function qe(e){if(k){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;C(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;C(e,"checked",null),e.checked=t}}};e.__on_r=a,he(a),be()}}function Pe(e,r){var a=Y(e);a.checked!==(a.checked=r??void 0)&&(e.checked=r)}function Ie(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function C(e,r,a,s){var t=Y(e);k&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[_e]=a),a==null?e.removeAttribute(r):typeof a!="string"&&p(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function Le(e,r,a,s,t=!1){var i=Y(e),f=i[X],o=!i[J];let h=k&&f;h&&H(!1);var l=r||{},b=e.tagName==="OPTION";for(var g in r)g in a||(a[g]=null);a.class?a.class=we(a.class):a[E]&&(a.class=null),a[T]&&(a.style??=null);var y=p(e);for(const c in a){let u=a[c];if(b&&c==="value"&&u==null){e.value=e.__value="",l[c]=u;continue}if(c==="class"){var I=e.namespaceURI==="http://www.w3.org/1999/xhtml";Ee(e,I,u,s,r?.[E],a[E]),l[c]=u,l[E]=a[E];continue}if(c==="style"){Ne(e,u,r?.[T],a[T]),l[c]=u,l[T]=a[T];continue}var A=l[c];if(!(u===A&&!(u===void 0&&e.hasAttribute(c)))){l[c]=u;var d=c[0]+c[1];if(d!=="$$")if(d==="on"){const _={},S="$$"+c;let v=c.slice(2);var M=ye(v);if(le(v)&&(v=v.slice(0,-7),_.capture=!0),!M&&A){if(u!=null)continue;e.removeEventListener(v,l[S],_),l[S]=null}if(u!=null)if(M)e[`__${v}`]=u,ce([v]);else{let x=function(ee){l[c].call(this,ee)};l[S]=fe(v,e,x,_)}else M&&(e[`__${v}`]=void 0)}else if(c==="style")C(e,c,u);else if(c==="autofocus")ue(e,!!u);else if(!f&&(c==="__value"||c==="value"&&u!=null))e.value=e.__value=u;else if(c==="selected"&&b)Ie(e,u);else{var n=c;o||(n=oe(n));var m=n==="defaultValue"||n==="defaultChecked";if(u==null&&!f&&!m)if(i[c]=null,n==="value"||n==="checked"){let _=e;const S=r===void 0;if(n==="value"){let v=_.defaultValue;_.removeAttribute(n),_.defaultValue=v,_.value=_.__value=S?v:null}else{let v=_.defaultChecked;_.removeAttribute(n),_.defaultChecked=v,_.checked=S?v:!1}}else e.removeAttribute(c);else m||y.includes(n)&&(f||typeof u!="string")?(e[n]=u,n in i&&(i[n]=ve)):typeof u!="function"&&C(e,n,u)}}}return h&&H(!0),l}function $e(e,r,a=[],s=[],t,i=!1){se(a,s,f=>{var o=void 0,h={},l=e.nodeName==="SELECT",b=!1;if(F(()=>{var y=r(...f.map(te)),I=Le(e,o,y,t,i);b&&l&&"value"in y&&L(e,y.value);for(let d of Object.getOwnPropertySymbols(h))y[d]||B(h[d]);for(let d of Object.getOwnPropertySymbols(y)){var A=y[d];d.description===ie&&(!o||A!==o[d])&&(h[d]&&B(h[d]),h[d]=K(()=>Te(e,()=>A))),I[d]=A}o=I}),l){var g=e;D(()=>{L(g,o.value,!0),Q(g)})}b=!0})}function Y(e){return e.__attributes??={[X]:e.nodeName.includes("-"),[J]:e.namespaceURI===ne}}var j=new Map;function p(e){var r=e.getAttribute("is")||e.nodeName,a=j.get(r);if(a)return a;j.set(r,a=[]);for(var s,t=e,i=Element.prototype;i!==t;){s=ke(t);for(var f in s)s[f].set&&a.push(f);t=de(t)}return a}function Ve(e,r,a=r){var s=new WeakSet;O(e,"input",async t=>{var i=t?e.defaultValue:e.value;if(i=$(e)?V(i):i,a(i),w!==null&&s.add(w),await ge(),i!==(i=r())){var f=e.selectionStart,o=e.selectionEnd;e.value=i??"",o!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(o,e.value.length))}}),(k&&e.defaultValue!==e.value||G(r)==null&&e.value)&&(a($(e)?V(e.value):e.value),w!==null&&s.add(w)),U(()=>{var t=r();if(e===document.activeElement){var i=Ae??w;if(s.has(i))return}$(e)&&t===V(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}const P=new Set;function Be(e,r,a,s,t=s){var i=a.getAttribute("type")==="checkbox",f=e;let o=!1;if(r!==null)for(var h of r)f=f[h]??=[];f.push(a),O(a,"change",()=>{var l=a.__value;i&&(l=z(f,l,a.checked)),t(l)},()=>t(i?[]:null)),U(()=>{var l=s();if(k&&a.defaultChecked!==a.checked){o=!0;return}i?(l=l||[],a.checked=l.includes(a.__value)):a.checked=Z(a.__value,l)}),W(()=>{var l=f.indexOf(a);l!==-1&&f.splice(l,1)}),P.has(f)||(P.add(f),R(()=>{f.sort((l,b)=>l.compareDocumentPosition(b)===4?-1:1),P.delete(f)})),R(()=>{if(o){var l;if(i)l=z(f,l,a.checked);else{var b=f.find(g=>g.checked);l=b?.__value}t(l)}})}function De(e,r,a=r){O(e,"change",s=>{var t=s?e.defaultChecked:e.checked;a(t)}),(k&&e.defaultChecked!==e.checked||G(r)==null)&&a(e.checked),U(()=>{var s=r();e.checked=!!s})}function z(e,r,a){for(var s=new Set,t=0;t<e.length;t+=1)e[t].checked&&s.add(e[t].__value);return a||s.delete(r),Array.from(s)}function $(e){var r=e.type;return r==="number"||r==="range"}function V(e){return e===""?null:+e}export{Me as a,Ve as b,Ne as c,De as d,C as e,Be as f,$e as g,qe as r,Pe as s};
